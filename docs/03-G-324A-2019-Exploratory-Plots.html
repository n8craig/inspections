<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Nathan Craig" />


<title>Preliminary Reading and Graphing of Inspection Data</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>

<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ICE Inspection Review</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="02-Data-Cleaning.html">Clean Data</a>
</li>
<li>
  <a href="03-G-324A-2019-Exploratory-Plots.html">Preliminary Plots</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Preliminary Results
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="03-G-324A-2019-Exploratory-Plots.html">Assaults</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/n8craig/inspections">
    <span class="fa fa fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Preliminary Reading and Graphing of Inspection Data</h1>
<h4 class="author">Nathan Craig</h4>
<h4 class="date">Tuesday July 06, 2021</h4>

</div>


<div id="purpose" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Purpose</h1>
<p>This document is a preliminary proof of concept and initial exploratory data analysis <span class="citation">(Tukey 1977)</span>. Goals of the document are to:</p>
<ul>
<li>illustrate the kinds of analysis possible with the tabulation of ICE inspection data</li>
<li>provide preliminary exploratory plot of select variables from the Significant Incident Summary Sheets.</li>
<li>generate some preliminary summary information</li>
</ul>
<p>The data are presently incomplete and represent results compiled as of 2021-07-06.</p>
<pre class="r"><code># Load necessary libraries

# Reading and wrangling
library(googlesheets4)
library(readr)
library(tidyverse)
library(janitor)
library(lubridate)
library(DT)

# Plotting
library(ggplot2)
library(RColorBrewer)

# Tables
library(kableExtra)

# Load custom function
source(&quot;function_clean_facility_names.R&quot;, local = knitr::knit_global())</code></pre>
</div>
<div id="introduction" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Introduction</h1>
<div id="method-for-reading-g-324a-19-inc-form" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Method for Reading G-324A-19-inc form</h2>
<p>The code for this report is specific to data logged in the G-324A-19 form and the incident summaries portion of that form. The incident summary portion of this form is probably the most complex data structure in the project and also contains the largest volume of quantitative information. Therefore, it seemed like a good place to start with an initial proof of concept.</p>
<p>At the outset, there were issues reading in the Google Sheet. Several of the numeric columns read into R as lists which was undesirable. In the Google Sheet, Craig set the columns to <code>plain text</code> rather than <code>auto</code> and the data are read into R as character columns. This seemed to resolve the issue for a time, and it was possible to use the <code>type_convert()</code> function from the <code>readr</code> library <span class="citation">(Wickham and Hester 2020)</span> to convert these columns to numbers. The <code>col_types</code> argument of the <code>read_sheet</code> function of the <code>googlesheets4</code> library <span class="citation">(Bryan 2021)</span> was used to explicitly set the column types to character. After applying the <code>clean_facility_names</code> custom function, additional transformations like converting facility to a factor are applied.</p>
<p>There were some issues using <code>lubridate</code> <span class="citation">(Spinu, Grolemund, and Wickham 2021)</span> to wrangle the month and year fields to a proper date. Craig was not able to discern the cause of the issue. However, changing the month format on the incident sheet from abbreviated to fully written out months solved the issue. Those changes were made in the master Google Sheet and the data were called using the <code>googlesheets4</code> library.</p>
<pre class="r"><code># Read in Sheet G-324A-19
df_324 &lt;- read_sheet(&quot;https://docs.google.com/spreadsheets/d/1im5VSi3bIEi13O8WQ56wEIXSyNEstbGMylXXgD9bAG0/edit#gid=1858227071&quot;,
                 sheet=&quot;G-324A-19&quot;,
                 col_names = TRUE,
                 col_types = &quot;c&quot;) %&gt;% 
  clean_names() %&gt;% 
  
  # Run custom cleaning function
  clean_facility_names() %&gt;% 
  
  # df specific changes
  mutate(facility = as.factor(facility),
         state = as.factor(state),
         date = mdy(inspection_date),
         current_inspection_date_from = mdy(current_inspection_date_from),
         current_inspection_date_to = mdy(current_inspection_date_to)
         ) %&gt;% 
  relocate(date, .before = inspection_date) %&gt;% 
  mutate_at(c(20:49), as.numeric)</code></pre>
<pre class="r"><code># Read Google Sheet incident worksheet, convert to data frame, and wrangle
df_324_inc &lt;- read_sheet(&quot;https://docs.google.com/spreadsheets/d/1im5VSi3bIEi13O8WQ56wEIXSyNEstbGMylXXgD9bAG0/edit#gid=1858227071&quot;,
                 sheet=&quot;G-324A-19-inc&quot;,
                 col_types = &quot;c&quot;) %&gt;% 
  clean_names() %&gt;%
  
  # Run custom cleaning function
  clean_facility_names() %&gt;% 


  # df_specific changes
  unite(date, year:month) %&gt;% 
  mutate(facility = as.factor(facility),
         state = as.factor(state),
         date = ym(date)
         ) %&gt;% 
  mutate_at(c(6:76), as.numeric)</code></pre>
<p>At present 199 SIS and inspection cover letter combinations out of approximately 300 inspections are complete. The completed inspections range in time from 2019-08-22 to 2021-05-27. Students are now working on older SIS forms which are structured differently. The preliminary EDA below is restricted to the more current SIS forms which were first used in May 2019.</p>
</div>
<div id="summary-tables" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Summary Tables</h2>
<p>Summary tables help to provide an overview of how many instances occur within particular category of data or how frequent a particular issue is recorded at a given facility. Summary tables are generated using a combination of <code>group_by</code> with <code>summarize</code> with the results piped to <code>kable</code> and <code>kableExtra</code>. This produces results similar to a “pivot table” from Excel.</p>
<p>Table <a href="#tab:inspection-count">2.1</a> shows the number of inspections per facility that are processed so far. The values range from 1-3 inspections. Dorchester County Detention Center, Golden State Annex, and River Correctional Center all have three inspections.</p>
<pre class="r"><code>df_facility &lt;- df_324 %&gt;% 
  group_by(facility) %&gt;% 
  summarise(n_inspections = n()) %&gt;% 
  ungroup() 
  
df_facility %&gt;% 
  kable(caption = &quot;Inspections Reviewed by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Inspections Reviewed&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:inspection-count">Table 2.1: </span>Inspections Reviewed by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Inspections Reviewed
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Chase County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Douglas County Department of Corrections
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Etowah County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="facet-plots" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Facet Plots</h2>
<p>Facet plots partition each portion of a plot into a matrix of panels. These plots are produced for several categories of data where each panel represents a facility for a given variable reported in the SIS form. Within each category, columns are pivoted longer and plotted by date. Graphing is done using the <code>ggplot2</code> library <span class="citation">(Wickham et al. 2021)</span> with the <code>facet_wrap</code> function to provide a means to compare multiple facilities simultaneously. Such a plot can help identify trends and guide more specific questions.</p>
</div>
<div id="sis-form-structure" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> SIS Form structure</h2>
<p>The ICE G-324A Significant Incident Summary contains information on the following categories of information:</p>
</div>
</div>
<div id="disciplinary" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Disciplinary</h1>
<p>As a matter of law, ICE detention is not punitive it is purely administrative civil holding to ensure that individuals are present for their immigration proceedings. Despite that fact, there is a tremendous amount of punitive disciplinary measures that take place in ICE detention. Some of this information on discipline in ICE detention is logged in facility inspections. As seen in the tables below, during the current sample period there were more than 42,000 disciplinary infractions.</p>
<div id="summary-tables-1" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Summary Tables</h2>
<pre class="r"><code>df_discipline &lt;- df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       disciplinary_infractions:
       sanctions_over_60_days
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_disciplinary = sum(c_across(
       disciplinary_infractions:
       sanctions_over_60_days
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  disciplinary_infractions:total_disciplinary,
               names_to = &quot;disciplinary_type&quot;,
               values_to = &quot;disciplinary_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly set factor levels
  mutate(disciplinary_type = factor(disciplinary_type, levels =c(
    &quot;disciplinary_infractions&quot;,
    &quot;disciplinary_infractions_guilty&quot;,
    &quot;disciplinary_appeals&quot;,
    &quot;disciplinary_appeals_found_in_favor_of_detainee&quot;,
    &quot;sanctions_over_60_days&quot;,
    &quot;total_disciplinary&quot;
  )))</code></pre>
<pre class="r"><code>df_discipline %&gt;% 
  group_by(disciplinary_type) %&gt;% 
  summarise(`Total Disciplinary by Type` = sum(disciplinary_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Disciplinary by Type&quot;,
        col.names = c(&quot;Discipline Type&quot;, &quot;Total Discipline Type&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 3.1: </span>Total Disciplinary by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Discipline Type
</th>
<th style="text-align:right;">
Total Discipline Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
disciplinary_infractions
</td>
<td style="text-align:right;">
25089
</td>
</tr>
<tr>
<td style="text-align:left;">
disciplinary_infractions_guilty
</td>
<td style="text-align:right;">
19610
</td>
</tr>
<tr>
<td style="text-align:left;">
disciplinary_appeals
</td>
<td style="text-align:right;">
1234
</td>
</tr>
<tr>
<td style="text-align:left;">
disciplinary_appeals_found_in_favor_of_detainee
</td>
<td style="text-align:right;">
295
</td>
</tr>
<tr>
<td style="text-align:left;">
sanctions_over_60_days
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
total_disciplinary
</td>
<td style="text-align:right;">
45547
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_discipline %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_disciplinary = sum(disciplinary_count)) %&gt;% 
  arrange(desc(total_disciplinary)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Discipline by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total Discipline by Facility&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 3.1: </span>Total Discipline by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total Discipline by Facility
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
7128
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
6954
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
4888
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
4070
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
3808
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
3712
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
3068
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
2678
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
2678
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
2504
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
2264
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
2098
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
2060
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
1954
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
1926
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
1924
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
1912
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
1596
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
1432
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
1304
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
1284
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
1246
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
1240
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
1234
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
1186
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
1176
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
1166
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
1070
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
1010
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
924
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
888
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
848
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
822
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
814
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
796
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
756
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
746
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
742
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
680
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
638
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
592
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
586
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
566
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
560
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
502
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
498
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
496
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
492
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
482
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
480
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
480
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
438
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
420
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
400
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
322
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
312
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
310
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
262
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
252
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
234
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
230
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
214
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
204
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
186
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
176
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
176
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
174
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
166
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
158
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
152
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
144
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
136
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
132
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
128
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
125
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
124
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
112
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
88
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
88
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
64
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
62
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
48
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="facet-plot-of-disciplinary-by-facility" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Facet Plot of Disciplinary by Facility</h2>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(6, &quot;Paired&quot;)
plot_colors[6] &lt;- &quot;#000000&quot;

# Create plot labels

plot_labels &lt;- c(
    &quot;Disciplinary Infractions&quot;,
    &quot;Disciplinary Infractions - Guilty&quot;,
    &quot;Disciplinary Appeals&quot;,
    &quot;Disciplinary Appeals in Favor of Detainee&quot;,
    &quot;Sanctions Over 60 Days&quot;,
    &quot;Total Disciplinary&quot;)


df_discipline %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date,
             y = disciplinary_count,
             linetype = disciplinary_type))+
  geom_line(aes(color = disciplinary_type), size = .65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Disciplinary Type:&quot;,
    guide = guide_legend(nrow = 6)
    )+
  
  # Setting the color
  scale_color_manual(
  values = plot_colors,
  labels = plot_labels,
  name = &quot;Disciplinary Type:&quot;
  )+

  labs(title = &quot;Disciplinary&quot;)+
  ylab(&quot;Number of Disciplinary Infractions&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =6))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/disciplinary-facet-1.png" width="672" /></p>
</div>
</div>
<div id="solitary" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Solitary</h1>
<div id="summary-tables-2" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Summary Tables</h2>
<p>Of the present 163 inspections reviewed so far, there are more than 34,000 instances of solitary. That is roughly 208 instances of solitary per inspection.</p>
<pre class="r"><code>df_solitary &lt;- df_324_inc %&gt;%
  
  # Select a subset of columns to work with
  select(id,
         facility,
         date,
         detainees_placed_in_administrative_segregation:
           detainees_placed_in_segregation_for_mental_health_reasons) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create new total column
  mutate(total_segregation = sum(c_across(detainees_placed_in_administrative_segregation:
                 detainees_placed_in_segregation_for_mental_health_reasons))) %&gt;% 
  
  # Tidy
  pivot_longer(.,
               cols= detainees_placed_in_administrative_segregation:
                 total_segregation,
               names_to = &quot;segregation_type&quot;,
               values_to = &quot;segregation_count&quot;) %&gt;% 
  
  # Remove NA
  drop_na() %&gt;% 
  
  # Explicitly set factor levels
  mutate(segregation_type = factor(segregation_type, levels = c(
    &quot;detainees_placed_in_administrative_segregation&quot;,
    &quot;detainees_placed_in_disciplinary_segregation&quot;,
    &quot;detainees_placed_in_segregation_for_medical_reasons&quot;,
    &quot;detainees_placed_in_segregation_for_mental_health_reasons&quot;,
    &quot;total_segregation&quot;
  )))</code></pre>
<pre class="r"><code>df_solitary %&gt;% 
  group_by(segregation_type) %&gt;% 
  summarise(`Total Solitary by Type` = sum(segregation_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Solitary by Type&quot;,
        col.names = c(&quot;Solitary Type&quot;, &quot;Total Solitary Type&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-4">Table 4.1: </span>Total Solitary by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Solitary Type
</th>
<th style="text-align:right;">
Total Solitary Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
detainees_placed_in_administrative_segregation
</td>
<td style="text-align:right;">
17236
</td>
</tr>
<tr>
<td style="text-align:left;">
detainees_placed_in_disciplinary_segregation
</td>
<td style="text-align:right;">
9551
</td>
</tr>
<tr>
<td style="text-align:left;">
detainees_placed_in_segregation_for_medical_reasons
</td>
<td style="text-align:right;">
9869
</td>
</tr>
<tr>
<td style="text-align:left;">
detainees_placed_in_segregation_for_mental_health_reasons
</td>
<td style="text-align:right;">
1003
</td>
</tr>
<tr>
<td style="text-align:left;">
total_segregation
</td>
<td style="text-align:right;">
37336
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_solitary %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_segregation = sum(segregation_count)) %&gt;% 
  arrange(desc(total_segregation)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Solitary by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total Solitary by Facility&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-4">Table 4.1: </span>Total Solitary by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total Solitary by Facility
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
10882
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
4556
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
3310
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
2788
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
2638
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
2510
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
2474
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
2438
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
2332
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
2198
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
2178
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
2172
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
1898
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
1814
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
1696
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
1456
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
1418
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
1324
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
1308
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
1266
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
1248
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
1138
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
1138
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
1028
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
1006
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
1006
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
974
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
932
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
928
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
796
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
688
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
662
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
606
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
602
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
554
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
468
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
462
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
452
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
388
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
372
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
372
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
360
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
342
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
296
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
274
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
256
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
256
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
224
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
220
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
213
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
206
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
196
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
194
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
176
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
172
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
162
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
150
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
142
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
140
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
140
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
136
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
134
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
132
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
126
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
124
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
120
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
120
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
108
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
102
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
82
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
78
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
76
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
72
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
58
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
56
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
46
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
42
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
42
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
42
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Douglas County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="facet-plots-of-solitary-by-facility" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Facet Plots of Solitary by Facility</h2>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(5, &quot;Paired&quot;)
plot_colors[5] &lt;- &quot;#000000&quot;

# Create plot labels
plot_labels &lt;- c(
    &quot;Administrative&quot;,
    &quot;Disciplinary&quot;,
    &quot;Medical&quot;,
    &quot;Mental Health&quot;,
    &quot;Total&quot;)

df_solitary %&gt;% 

# Calling the plot and formatting
  ggplot(aes(x=date,
             y = segregation_count,
             linetype = segregation_type))+
  geom_line(aes(color = segregation_type), size = .65) +
  
  # Set the color
  scale_color_manual(
  values = plot_colors,
  name = &quot;Solitary Type:&quot;,
  labels = plot_labels)+
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
      name = &quot;Solitary Type:&quot;,
    labels = plot_labels)+
  
  
  labs(title = &quot;Reported Use of Solitary&quot;)+
  ylab(&quot;Number of Individuals Palced in Solitary&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+
    facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/solitary-facet-1.png" width="672" /></p>
</div>
<div id="solitary-over-60-days" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Solitary Over 60 Days</h2>
<pre class="r"><code># Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(5, &quot;Paired&quot;)
plot_colors[5] &lt;- &quot;#000000&quot;

# Call the dataframe and select cols
df_324 %&gt;% 
  select(id,
         facility,
         state,
         date,
         fac_operator,
         admin_seg_60_ice,
         disc_seg_60_ice) %&gt;% 
  drop_na() %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Generate total col
  mutate(total_seg_60 = sum(c_across(
       admin_seg_60_ice:
       disc_seg_60_ice
  ))) %&gt;%
  
  # Make tidy and filter
  pivot_longer(cols = admin_seg_60_ice:disc_seg_60_ice,
               names_to = &quot;segregation_60_type&quot;,
               values_to = &quot;segregation_60_count&quot;) %&gt;%
  filter(segregation_60_type %in% c(&quot;admin_seg_60_ice&quot;, &quot;disc_seg_60_ice&quot;)&amp;
           segregation_60_count &gt; 0) %&gt;%
  
  # Initiate the plot and sort by sum
  ggplot(aes(x = segregation_60_count,
             y=reorder(fac_operator, segregation_60_count, sum),
             fill=segregation_60_type))+
  geom_bar(stat = &quot;identity&quot;)+
  
  # Set the color fill
  scale_fill_brewer(type = &quot;qual&quot;,
                    palette = &quot;Paired&quot;,
                    name = &quot;Segregation &gt; 60 Type&quot;,
                    labels = c(&quot;Administrative&quot;,
                               &quot;Disciplinary&quot;))+
  labs(title= &quot;Segregation &gt; 60 Days by Facility Operator&quot;,
        x = &quot;Segregation &gt; 60 Days Count&quot;,
        y = &quot;Facility Operator&quot;)+
  theme(legend.position = &quot;bottom&quot;)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/solitary-60-facet-1.png" width="672" /></p>
</div>
</div>
<div id="use-of-force" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Use of Force</h1>
<div id="summary-tables-3" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Summary Tables</h2>
<pre class="r"><code>df_force &lt;- df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       immediate_use_of_force_incidents:
       strip_searches
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_use_of_force = sum(c_across(
       immediate_use_of_force_incidents:
       strip_searches
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  immediate_use_of_force_incidents:total_use_of_force,
               names_to = &quot;use_of_force_type&quot;,
               values_to = &quot;use_of_force_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly define factors
  mutate(use_of_force_type = factor(use_of_force_type, levels = c(
    &quot;immediate_use_of_force_incidents&quot;,
    &quot;calculated_use_of_force_incidents&quot;,
    &quot;uses_of_force_with_chemical_agents&quot;,
    &quot;incidents_where_non_lethal_weapons_were_used&quot;,
    &quot;number_of_times_4_5_point_restraints_were_used&quot;,
    &quot;use_of_force_with_serious_injury&quot;,
    &quot;strip_searches&quot;,
    &quot;total_use_of_force&quot;
  )))</code></pre>
<pre class="r"><code>df_force %&gt;% 
  group_by(use_of_force_type) %&gt;% 
  summarise(`Total Use of Force by Type` = sum(use_of_force_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Use of Force by Type&quot;,
        col.names = c(&quot;Use of Force Type&quot;, &quot;Total Use of Force Type&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-6">Table 5.1: </span>Total Use of Force by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Use of Force Type
</th>
<th style="text-align:right;">
Total Use of Force Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
immediate_use_of_force_incidents
</td>
<td style="text-align:right;">
1184
</td>
</tr>
<tr>
<td style="text-align:left;">
calculated_use_of_force_incidents
</td>
<td style="text-align:right;">
325
</td>
</tr>
<tr>
<td style="text-align:left;">
uses_of_force_with_chemical_agents
</td>
<td style="text-align:right;">
362
</td>
</tr>
<tr>
<td style="text-align:left;">
incidents_where_non_lethal_weapons_were_used
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
number_of_times_4_5_point_restraints_were_used
</td>
<td style="text-align:right;">
97
</td>
</tr>
<tr>
<td style="text-align:left;">
use_of_force_with_serious_injury
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
strip_searches
</td>
<td style="text-align:right;">
20629
</td>
</tr>
<tr>
<td style="text-align:left;">
total_use_of_force
</td>
<td style="text-align:right;">
19170
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_force %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_use_of_force = sum(use_of_force_count)) %&gt;% 
  arrange(desc(total_use_of_force)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Use of Force by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total Use of Force by Facility&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-6">Table 5.1: </span>Total Use of Force by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total Use of Force by Facility
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
10782
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
6022
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
4854
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
3348
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
2620
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
2294
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
2017
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
1500
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
1120
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
916
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
876
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
862
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
496
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
294
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
282
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
254
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
234
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
174
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
164
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
150
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
138
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
130
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
126
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
122
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
120
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
116
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
112
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
80
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
60
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
56
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
46
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
42
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
42
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
38
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
33
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Douglas County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="facet-plot-of-use-of-force-by-facility" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Facet Plot of Use of Force by Facility</h2>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(8, &quot;Paired&quot;)
plot_colors[8] &lt;- &quot;#000000&quot;

# Create plot labels
plot_labels &lt;- c(
    &quot;Immediate Use of Force Incidents&quot;,
    &quot;Calculated Use of Force Incidents&quot;,
    &quot;Uses of Force with Chemical Agents&quot;,
    &quot;Incidents Where Non-Lethal Weapons Were Used&quot;,
    &quot;Times 4/5 Point Restraints Used&quot;,
    &quot;Use of Force With Serious Injury&quot;,
    &quot;Strip Searches&quot;,
    &quot;Total Disciplinary&quot;)

df_force %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = use_of_force_count, linetype=use_of_force_type))+
  geom_line(aes(color = use_of_force_type), size = .65) +
  
  # setting the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Use of Force Type:&quot;,
    guide = guide_legend(nrow = 8)
    )+
  
  # Setting the color
  scale_color_manual(
  values = plot_colors,
  labels = plot_labels,
  name = &quot;Use of Force Type:&quot;,
  )+

  labs(title = &quot;Disciplinary&quot;)+
  ylab(&quot;Number of Disciplinary Infractions&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

    # Set the legend to multiple rows
  guides(col = guide_legend(nrow =8))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/use-force-facet-1.png" width="672" /></p>
</div>
</div>
<div id="sexual-abuse-and-assault" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Sexual Abuse and Assault</h1>
<div id="allegations" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Allegations</h2>
<div id="summary-tables-4" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Summary Tables</h3>
<pre class="r"><code>df_sex_alleg &lt;- df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       sexual_abuse_allegations_detainee_on_detainee:
       sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_29
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_sexual_abuse_allegations = sum(c_across(
       sexual_abuse_allegations_detainee_on_detainee:
       sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_29
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  sexual_abuse_allegations_detainee_on_detainee:total_sexual_abuse_allegations,
               names_to = &quot;sexual_abuse_allegations_type&quot;,
               values_to = &quot;sexual_abuse_allegations_count&quot;) %&gt;%
  
  # Remove NA
  drop_na() %&gt;% 
  
  # Explicitly define factor levels
  mutate(sexual_abuse_allegations_type = factor(sexual_abuse_allegations_type, levels = c(
    &quot;sexual_abuse_allegations_detainee_on_detainee&quot;,
    &quot;sexual_abuse_allegations_inmate_on_detainee&quot;,
    &quot;sexual_abuse_allegations_detainee_on_inmate&quot;,
    &quot;sexual_abuse_allegations_detainee_on_staff_contractor_volunteer&quot;,
    &quot;sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_29&quot;,
    &quot;total_sexual_abuse_allegations&quot;
  )))</code></pre>
<pre class="r"><code>df_sex_alleg %&gt;% 
  group_by(sexual_abuse_allegations_type) %&gt;% 
  summarise(`Sexual Abuse and Assault Allegations by Type` = sum(sexual_abuse_allegations_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Sexual Abuse and Assault Allegations by Type&quot;,
        col.names = c(&quot;Allegation Type&quot;, &quot;Total Allegation Type&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-8">Table 6.1: </span>Total Sexual Abuse and Assault Allegations by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Allegation Type
</th>
<th style="text-align:right;">
Total Allegation Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_detainee
</td>
<td style="text-align:right;">
495
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_inmate_on_detainee
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_inmate
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_staff_contractor_volunteer
</td>
<td style="text-align:right;">
189
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_29
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:left;">
total_sexual_abuse_allegations
</td>
<td style="text-align:right;">
744
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_sex_alleg %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_sexual_abuse_allegations = sum(sexual_abuse_allegations_count)) %&gt;% 
  arrange(desc(total_sexual_abuse_allegations)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Sexual Abuse and Assault Allegations by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total Allegations by Facility&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-8">Table 6.1: </span>Total Sexual Abuse and Assault Allegations by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total Allegations by Facility
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
160
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
122
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
102
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
70
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
66
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
58
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Douglas County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="facet-plot-of-sexual-abuse-and-assault-allegations-by-facility" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Facet Plot of Sexual Abuse and Assault Allegations by Facility</h3>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(6, &quot;Paired&quot;)
plot_colors[6] &lt;- &quot;#000000&quot;

# Create plot labels
plot_labels &lt;- c(
    &quot;Sexual Abuse Allegations - Detainee on Detainee&quot;,
    &quot;Sexual Abuse Allegations - Inmate on Detainee&quot;,
    &quot;Sexual Abuse Allegations - Detainee on Inmate&quot;,
    &quot;Sexual Abuse Allegations - Staff/Contractor/Volunteer on Detainee&quot;,
    &quot;Number of Sexual Abuse Allegations - Detainee on Staff/Contractor/Volunteer&quot;,
    &quot;Total Sexual Abuse Allegations&quot;)

df_sex_alleg %&gt;% 
  # Calling the plot and formatting
  ggplot(aes(x=date, y = sexual_abuse_allegations_count, linetype=sexual_abuse_allegations_type))+
  geom_line(aes(color = sexual_abuse_allegations_type),size=.65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Sexual Abuse Allegation Type:&quot;,
    guide = guide_legend(nrow = 6)
    )+
  
  # Set the color
  scale_color_manual(values = plot_colors,
                     labels = plot_labels,
                     name = &quot;Sexual Abuse Allegation Type:&quot;)+

  labs(title = &quot;Sexual Abuse Allegations&quot;)+
  ylab(&quot;Number of Allegations&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

    # Set the legend to multiple rows
  guides(col = guide_legend(nrow =8))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/sexual-abuse-allegation-facet-1.png" width="672" /></p>
</div>
</div>
<div id="substantiated-allegations" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Substantiated Allegations</h2>
<div id="summary-tables-5" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Summary Tables</h3>
<pre class="r"><code>df_sex_alleg_sub &lt;- df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       sexual_abuse_allegations_detainee_on_detainee_2:
       sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_34
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_sexual_abuse_allegations = sum(c_across(
       sexual_abuse_allegations_detainee_on_detainee_2:
       sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_34
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  sexual_abuse_allegations_detainee_on_detainee_2:total_sexual_abuse_allegations,
               names_to = &quot;sexual_abuse_substantiated_type&quot;,
               values_to = &quot;sexual_abuse_substantiated_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly set factor levels
  mutate(sexual_abuse_substantiated_type= factor(sexual_abuse_substantiated_type, levels =c(
    &quot;sexual_abuse_allegations_detainee_on_detainee_2&quot;,
    &quot;sexual_abuse_allegations_inmate_on_detainee_2&quot;,
    &quot;sexual_abuse_allegations_detainee_on_inmate_2&quot;,
    &quot;sexual_abuse_allegations_staff_contractor_volunteer_on_detainee&quot;,
    &quot;sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_34&quot;,
    &quot;total_sexual_abuse_allegations&quot;
  )))</code></pre>
<pre class="r"><code>df_sex_alleg_sub %&gt;% 
  group_by(sexual_abuse_substantiated_type) %&gt;% 
  summarise(`Sexual Abuse and Assault Allegations Substantiated by Type` = sum(sexual_abuse_substantiated_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Substantiated Sexual Abuse and Assault Allegations by Type&quot;,
        col.names = c(&quot;Substantiated Allegation Type&quot;, &quot;Total Substantiated Allegation Type&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-10">Table 6.2: </span>Total Substantiated Sexual Abuse and Assault Allegations by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Substantiated Allegation Type
</th>
<th style="text-align:right;">
Total Substantiated Allegation Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_detainee_2
</td>
<td style="text-align:right;">
82
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_inmate_on_detainee_2
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_inmate_2
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_staff_contractor_volunteer_on_detainee
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
sexual_abuse_allegations_detainee_on_staff_contractor_volunteer_34
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
total_sexual_abuse_allegations
</td>
<td style="text-align:right;">
102
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_sex_alleg_sub %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_sexual_abuse_substantiated = sum(sexual_abuse_substantiated_count)) %&gt;% 
  arrange(desc(total_sexual_abuse_substantiated)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Substantiated Sexual Abuse and Assault Allegations by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total Substantiated Allegations by Facility&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-10">Table 6.2: </span>Total Substantiated Sexual Abuse and Assault Allegations by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total Substantiated Allegations by Facility
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
34
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Douglas County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="facet-plot-of-substantiated-sexual-abuse-and-assault-allegations" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Facet Plot of Substantiated Sexual Abuse and Assault Allegations</h3>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(6, &quot;Paired&quot;)
plot_colors[6] &lt;- &quot;#000000&quot;

# Create the labels
plot_labels &lt;- c(
    &quot;Sexual Abuse Allegations - Detainee on Detainee&quot;,
    &quot;Sexual Abuse Allegations - Inmate on Detainee&quot;,
    &quot;Sexual Abuse Allegations - Detainee on Inmate&quot;,
    &quot;Sexual Abuse Allegations - Staff/Contractor/Volunteer on Detainee&quot;,
    &quot;Number of Sexual Abuse Allegations - Detainee on Staff/Contractor/Volunteer&quot;,
    &quot;Total Sexual Abuse Allegations&quot;)

df_sex_alleg_sub %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = sexual_abuse_substantiated_count, linetype=sexual_abuse_substantiated_type))+
  geom_line(aes(color = sexual_abuse_substantiated_type),size=.65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Sexual Abuse Allegation Type:&quot;,
    guide = guide_legend(nrow = 6)
    )+
  
  # Set the color
  scale_color_manual(values = plot_colors,
                     labels = plot_labels,
                     name = &quot;Sexual Abuse Allegation Type:&quot;)+

  labs(title = &quot;Sexual Abuse Allegations Substantiated&quot;)+
  ylab(&quot;Number of Allegations&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =8))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/sexual-abuse-substantiated-facet-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="medical" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Medical</h1>
<div id="medical-observation" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Medical Observation</h2>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors
plot_colors &lt;- brewer.pal(3, &quot;Paired&quot;)
plot_colors[3] &lt;- &quot;#000000&quot;

# Create plot labels
plot_labels &lt;- c(
    &quot;Detainees in Medical Observation&quot;,
    &quot;Detainees in Mental Health Observation&quot;,
    &quot;Total Individuals in Medical or Mental Health Observation&quot;)

df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       detainees_in_medical_observation:
       detainees_in_mental_health_observation
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_mental_medical_observation = sum(c_across(
       detainees_in_medical_observation:
       detainees_in_mental_health_observation
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  detainees_in_medical_observation:total_mental_medical_observation,
               names_to = &quot;medical_mental_observation_type&quot;,
               values_to = &quot;medical_mental_observation_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly set factor levels
  mutate(medical_mental_observation_type = factor(medical_mental_observation_type, levels = c(
    &quot;detainees_in_medical_observation&quot;,
    &quot;detainees_in_mental_health_observation&quot;,
    &quot;total_mental_medical_observation&quot;
  ))) %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = medical_mental_observation_count, linetype=medical_mental_observation_type))+
  geom_line(aes(color = medical_mental_observation_type),size=.65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Observation Type:&quot;,
    guide = guide_legend(nrow = 3)
    )+
  
  # Set the color
  scale_color_manual(values = plot_colors,
                     labels = plot_labels,
                     name = &quot;Observation Type:&quot;,)+

  labs(title = &quot;Medical and Mental Health Observation&quot;)+
  ylab(&quot;Number of Individuals in Observation&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =3))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/medical-mental-observation-facet-1.png" width="672" /></p>
</div>
<div id="infections-disease" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Infections Disease</h2>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;
    )

# Use Color Brewer to set colors
plot_colors &lt;- brewer.pal(2, &quot;Paired&quot;)

# Create plot labels
plot_labels &lt;- c(
    &quot;Infectious Disease Reported&quot;,
    &quot;Infectious Disease Confirmed&quot;)

df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       infectious_disease_reported:
       infections_disease_confirmed
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # # Create a new total column
  # # In this case not used
  # mutate(total_infections_disease_report_confirmed = sum(c_across(
  #      infectious_disease_reported:
  #      infections_disease_confirmed
  # ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  infectious_disease_reported:infections_disease_confirmed,
               names_to = &quot;infectious_disease_type&quot;,
               values_to = &quot;infectious_disease_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly define factor levels
  mutate(infectious_disease_type = factor(infectious_disease_type, levels = c(
    &quot;infectious_disease_reported&quot;,
    &quot;infections_disease_confirmed&quot;
  ))) %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = infectious_disease_count, linetype=infectious_disease_type))+
  geom_line(aes(color = infectious_disease_type),size=.65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Category:&quot;,
    guide = guide_legend(nrow = 2)
    )+
  
  # Set the color
  scale_color_manual(values = plot_colors,
    labels = plot_labels,
    name = &quot;Category:&quot;)+

  labs(title = &quot;Infectious Diseases Reported and Confirmed&quot;)+
  ylab(&quot;Count&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =3))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/infectious-disease-facet-1.png" width="672" /></p>
</div>
<div id="medical-and-mental-health-referrals" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Medical and Mental Health Referrals</h2>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors
plot_colors &lt;- brewer.pal(5, &quot;Paired&quot;)
plot_colors[5] &lt;- &quot;#000000&quot;

# Create plot labels
plot_labels &lt;- c(
    &quot;Outside Medical Referrals&quot;,
    &quot;Detainees Transported to Off-Site Hospitals for Emergency Reasons&quot;,
    &quot;Admissions to Off-Site Hospitals for Medical Reasons&quot;,
    &quot;Admissions to Off-Site Hospitals for Mental Health Reasons&quot;,
    &quot;Total Referrals&quot;)


df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       outside_medical_referrals:
       admissions_to_off_site_hospitals_for_mental_health_reasons
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_referrals = sum(c_across(
       outside_medical_referrals:
       admissions_to_off_site_hospitals_for_mental_health_reasons
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  outside_medical_referrals:total_referrals,
               names_to = &quot;referral_type&quot;,
               values_to = &quot;referral_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly define factor levels
  mutate(referral_type= factor(referral_type, levels = c(
    &quot;outside_medical_referrals&quot;,
    &quot;detainees_transported_to_off_site_hospitals_for_emergency_care&quot;,
    &quot;admissions_to_off_site_hospitals_for_medical_reasons&quot;,
    &quot;admissions_to_off_site_hospitals_for_mental_health_reasons&quot;,
    &quot;total_referrals&quot;
  ))) %&gt;% 
  
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = referral_count, linetype=referral_type))+
  geom_line(aes(color = referral_type),size=.65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Referral Type:&quot;,
    guide = guide_legend(nrow = 5)
    )+
  
  # Set the color
  scale_color_manual(values = plot_colors,
    labels = plot_labels,
    name = &quot;Referral Type:&quot;)+

  labs(title = &quot;Medical and Mental Health Referrals&quot;)+
  ylab(&quot;Number of Referrals&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =5))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/referrals-facet-1.png" width="672" /></p>
</div>
<div id="sick-call-requests-and-encounters" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Sick Call Requests and Encounters</h2>
<pre class="r"><code>df_sick_call &lt;- df_324_inc %&gt;%
  
  # Select a subset of columns to work with
  select(id,
         facility,
         date,
         sick_call_requests,
         sick_call_encounters) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create new total column
  mutate(total_sick_call = sick_call_requests,
         sick_call_encounters) %&gt;% 
  
  # Tidy
  pivot_longer(.,
               cols= sick_call_requests:
         sick_call_encounters,
               names_to = &quot;sick_call_type&quot;,
               values_to = &quot;sick_call_count&quot;) %&gt;% 
  
  # Remove NA
  drop_na() %&gt;% 
  
  # Explicitly set factor levels
  mutate(sick_call_type = factor(sick_call_type, levels = c(
    &quot;sick_call_requests&quot;,
    &quot;sick_call_encounters&quot;,
    &quot;total_sick_call&quot;
  )))</code></pre>
<pre class="r"><code>df_sick_call %&gt;% 
  group_by(sick_call_type) %&gt;% 
  summarise(`Total Sick Call by Type` = sum(sick_call_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Sick Call by Type&quot;,
        col.names = c(&quot;Type&quot;, &quot;Total&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-12">Table 7.1: </span>Total Sick Call by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Type
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
sick_call_requests
</td>
<td style="text-align:right;">
648941
</td>
</tr>
<tr>
<td style="text-align:left;">
sick_call_encounters
</td>
<td style="text-align:right;">
639104
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_sick_call %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_sick_call = sum(sick_call_count)) %&gt;% 
  arrange(desc(total_sick_call)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Sick Call Requests/Encounters by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-12">Table 7.1: </span>Total Sick Call Requests/Encounters by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
66777
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
66777
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
59808
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
48814
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
48309
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
44111
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
42973
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
39798
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
36952
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
30388
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
30196
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
30028
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
29224
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
29048
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
28326
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
27056
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
26994
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
26363
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
23860
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
23626
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
23178
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
23178
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
23057
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
21902
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
21685
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
19821
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
19786
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
16756
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
16400
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
16032
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
16025
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
15811
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
15122
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
14910
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
14429
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
14358
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
12884
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
12745
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
11870
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
11612
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
11282
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
11064
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
10336
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
9572
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
9245
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
9024
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
7766
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
7762
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
7608
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
6309
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
5965
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
5771
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
4575
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
4533
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
4210
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
3778
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
3628
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
3524
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
3480
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
3432
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
3299
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
3161
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
3052
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
2830
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
2682
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
2416
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
2351
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
2334
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
2266
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
2174
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
2162
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
2026
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
1955
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
1940
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
1688
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
1616
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
1181
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
1174
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
1086
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
1060
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
959
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
913
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
876
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
828
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
742
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
709
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
658
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
649
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
546
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
526
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
507
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
456
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
414
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
385
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
360
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
334
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
320
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
296
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
259
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
220
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
184
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
156
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
132
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
105
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
65
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
62
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<pre class="r"><code># Generating a linetype vector for use in the plot
plot_lines &lt;- c(
    &quot;solid&quot;,
    &quot;solid&quot;,
    &quot;dotted&quot;
    )

# Use Color Brewer to set colors
plot_colors &lt;- brewer.pal(3, &quot;Paired&quot;)
plot_colors[3] &lt;- &quot;#000000&quot;

# Create labels
plot_labels &lt;- c(
    &quot;Sick Call Requests&quot;,
    &quot;Sick Call Encounters&quot;,
    &quot;Total Sick Calls&quot;)

df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       sick_call_requests:
       sick_call_encounters
       ) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create a new total column
  mutate(total_sick_calls = sum(c_across(
       sick_call_requests:
       sick_call_encounters
  ))) %&gt;% 

  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  sick_call_requests:total_sick_calls,
               names_to = &quot;sick_call_type&quot;,
               values_to = &quot;sick_call_count&quot;) %&gt;%
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly define factor levels
  mutate(sick_call_type = factor(sick_call_type, levels = c(
    &quot;sick_call_requests&quot;,
    &quot;sick_call_encounters&quot;,
    &quot;total_sick_calls&quot;
  ))) %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = sick_call_count, linetype=sick_call_type))+
  geom_line(aes(color = sick_call_type),size=.65) +
  
  # Set the linetype
  scale_linetype_manual(
    values = plot_lines,
    labels = plot_labels,
    name = &quot;Sick Call Type:&quot;,
    guide = guide_legend(nrow = 3)
    )+
  
  # Set the color
  scale_color_manual(values = plot_colors,
    labels = plot_labels,
    name = &quot;Sick Call Type:&quot;)+

  labs(title = &quot;Sick Calls&quot;)+
  ylab(&quot;Number of Sick Calls&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 8),
    legend.position = &quot;bottom&quot;
    )+

  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =3))+
  
  # Wrap
  facet_wrap(~ facility, ncol=3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/sick-calls-1.png" width="672" /></p>
</div>
<div id="suicide-attempts-and-watches" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Suicide Attempts and Watches</h2>
<p>The following shows Suicide Attempts and Suicide Watches based on the status of the data as of 2021-07-06. The numbers are subject to change.</p>
<pre class="r"><code>df_suicide &lt;- df_324_inc %&gt;%
  
  # Select a subset of columns to work with
  select(id,
         facility,
         date,
         suicide_attempts_or_self_harm,
         suicide_watches_constant_watch_mental_health_observation) %&gt;% 
  
  # Need the rowwise function to compute a row-at-a-time
  # in the following mutate function
  rowwise(id) %&gt;% 
  
  # Create new total column
  mutate(total_suicide = suicide_attempts_or_self_harm +
         suicide_watches_constant_watch_mental_health_observation) %&gt;% 
  
  # Tidy
  pivot_longer(.,
               cols= suicide_attempts_or_self_harm:
               total_suicide,
               names_to = &quot;suicide_type&quot;,
               values_to = &quot;suicide_count&quot;) %&gt;% 
  
  # Remove NA
  drop_na() %&gt;% 
  
  # Explicitly set factor levels
  mutate(segregation_type = factor(suicide_type, levels = c(
    &quot;suicide_attempts_or_self_harm&quot;,
    &quot;suicide_watches_constant_watch_mental_health_observation&quot;,
    &quot;total_suicide&quot;
  )))</code></pre>
<pre class="r"><code>df_suicide %&gt;% 
  group_by(suicide_type) %&gt;% 
  summarise(`Total Suicide Attempt or Watch by Type` = sum(suicide_count)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Suicide Attempt or Watch by Type&quot;,
        col.names = c(&quot;Type&quot;, &quot;Total&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;))</code></pre>
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-14">Table 7.2: </span>Total Suicide Attempt or Watch by Type
</caption>
<thead>
<tr>
<th style="text-align:left;">
Type
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
suicide_attempts_or_self_harm
</td>
<td style="text-align:right;">
244
</td>
</tr>
<tr>
<td style="text-align:left;">
suicide_watches_constant_watch_mental_health_observation
</td>
<td style="text-align:right;">
5122
</td>
</tr>
<tr>
<td style="text-align:left;">
total_suicide
</td>
<td style="text-align:right;">
5364
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df_suicide %&gt;% 
  group_by(facility) %&gt;% 
  summarise(total_suicide = sum(suicide_count)) %&gt;% 
  arrange(desc(total_suicide)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Suicide Attempt or Watch by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-14">Table 7.2: </span>Total Suicide Attempt or Watch by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
878
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
878
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
750
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
606
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
606
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
468
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
402
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
390
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
358
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
282
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
272
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
246
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
214
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
192
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
182
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
178
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
158
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
158
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
156
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
144
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
144
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
134
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
122
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
122
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
114
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
106
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
104
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
102
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
102
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
92
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
86
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
86
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
84
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
74
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
74
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
68
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
68
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
64
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
64
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
62
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
58
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
56
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
56
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
54
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
48
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
48
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
46
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
42
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
38
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
36
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
22
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
20
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<pre class="r"><code># Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(2, &quot;Paired&quot;)

# Create plot labels
plot_labels &lt;- c(
      &quot;Suicide Attempts or Self Harm&quot;,
      &quot;Suicide Watches/Constant Watch/Mental Health Observation&quot;)

df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       suicide_attempts_or_self_harm,
       suicide_watches_constant_watch_mental_health_observation
       ) %&gt;% 
  drop_na() %&gt;% 
 
  # Call a range of table columns and pivot long
  pivot_longer(.,
               cols=  c(suicide_attempts_or_self_harm,
       suicide_watches_constant_watch_mental_health_observation),
               names_to = &quot;suicide_type&quot;,
               values_to = &quot;suicide_count&quot;) %&gt;% 
  
  # Remove NA values
  drop_na() %&gt;% 
  
  # Explicitly define factor levels
  mutate(suicide_type = factor(suicide_type, levels = c(
    &quot;suicide_attempts_or_self_harm&quot;,
    &quot;suicide_watches_constant_watch_mental_health_observation&quot;
  ))) %&gt;% 
  
  # Calling the plot and formatting
  ggplot(aes(x=date, y = suicide_count))+
  geom_line(aes(color=suicide_type), size = .65) +
  
  # Set the color
  scale_color_manual(
    values = plot_colors,
    labels = plot_labels,
    name = &quot;Type:&quot;
    )+
  
  labs(title = &quot;Suicide Attempts and Watches&quot;)+
  ylab(&quot;Number of Attempts or Watches&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 5),
    legend.position = &quot;bottom&quot;
    )+
  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =5))+
  
  # Wrap
  facet_wrap(~ facility, ncol = 3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/suicide-facet-1.png" width="672" /></p>
</div>
<div id="hunger-strikes" class="section level2" number="7.6">
<h2><span class="header-section-number">7.6</span> Hunger Strikes</h2>
<pre class="r"><code>df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date, hunger_strikes) %&gt;% 

  group_by(facility) %&gt;% 
  summarise(total_hunger_strike = sum(hunger_strikes)) %&gt;% 
  arrange(desc(total_hunger_strike)) %&gt;% 
  ungroup() %&gt;% 
  kable(caption = &quot;Total Hunger Strikes by Facility&quot;,
        col.names = c(&quot;Facility&quot;, &quot;Total Hunger Strikes&quot;)) %&gt;% 
  kable_styling(c(&quot;hover&quot;, &quot;striped&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) %&gt;% 
  scroll_box(height = &quot;300px&quot;)</code></pre>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table table-hover table-striped table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:hunger-strike-summary">Table 7.3: </span>Total Hunger Strikes by Facility
</caption>
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Facility
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
Total Hunger Strikes
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Bossier Parish Corrections Center
</td>
<td style="text-align:right;">
136
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome Service Processing Center
</td>
<td style="text-align:right;">
71
</td>
</tr>
<tr>
<td style="text-align:left;">
La Palma Correctional Center
</td>
<td style="text-align:right;">
62
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle ICE Processing Center
</td>
<td style="text-align:right;">
53
</td>
</tr>
<tr>
<td style="text-align:left;">
Otero County Processing Center
</td>
<td style="text-align:right;">
51
</td>
</tr>
<tr>
<td style="text-align:left;">
Jena LaSalle Detention Facility
</td>
<td style="text-align:right;">
49
</td>
</tr>
<tr>
<td style="text-align:left;">
Otay Mesa Detention Center
</td>
<td style="text-align:right;">
48
</td>
</tr>
<tr>
<td style="text-align:left;">
El Paso Service Processing Center
</td>
<td style="text-align:right;">
46
</td>
</tr>
<tr>
<td style="text-align:left;">
Port Isabel Service Processing Center
</td>
<td style="text-align:right;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - East
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
Adelanto ICE Processing Center - West
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery Processing Center
</td>
<td style="text-align:right;">
18
</td>
</tr>
<tr>
<td style="text-align:left;">
Prairieland Detention Center
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:left;">
Bergen County Jail
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
Irwin County Detention Center
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Okmulgee County Jail - Moore Detention Facility
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
Johnson County Corrections Center
</td>
<td style="text-align:right;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
Imperial Regional Detention Facility
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:left;">
South Texas ICE Processing Center
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:left;">
Florence Service Processing Center
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Teller County Jail
</td>
<td style="text-align:right;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
Butler County Jail
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
Houston Contract Detention Facility
</td>
<td style="text-align:right;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
Immigration Centers of America - Farmville
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
Elizabeth Contract Detention Facility
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Plymouth County Correctional Facility
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Sherburne County Jail
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
Torrance County Detention Facility
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
David L. Moss Criminal Justice Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe Corley Processing Center
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
Henderson Detention Center
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
York County Prison
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Calhoun County Correctional Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Caroline Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Golden State Annex
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
McHenry County Adult Correctional Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Nye County Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Polk County Adult Detention Center
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Wakulla County Detention Facility
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Broward Transitional Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Cambria County Prison
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Catahoula Correctional Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
CCA Florence Correctional Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Clinton County Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Desert View Annex
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
El Valle Detention Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Hudson County Corrections and Rehabilitation Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Northern Oregon Correctional Facility
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulaski County Detention Center
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Boone County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Brooks County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Carver County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Cass County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Chippewa County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Christian County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Clay County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Coastal Bend Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Donald W. Wyatt Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Douglas County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
East Hidalgo Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Eden Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Essex County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Folkston ICE Processing Center Annex
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Glades County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hall County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Hardin County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Laredo Processing Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Limestone County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Mesa Verde ICE Processing Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Montgomery County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morgan County Adult Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Morrow County Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Platte County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Rio Grande Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Robert A. Deyton Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Rolling Plains Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Saint Clair County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Seneca County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Shawnee County Department of Corrections - Adult Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Sheriff Al Cannon Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Strafford County Department of Corrections
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
T. Don Hutto Residential Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Val Verde Correctional Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Washoe County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Webb County Detention Center
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
West Texas Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Western Tennessee Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Willacy County Regional Detention Facility
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Worcester County Jail
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Adams County Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Alamance County Jail
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Allen Parish Public Safety Complex
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Aurora ICE Processing Center II - Annex
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Baker County Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Bluebonnet Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Bristol County Jail and House of Correction
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Chase County Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Cibola County Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Dodge County Detention Facility
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Dorchester County Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Eloy Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Etowah County Jail
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Freeborn County Adult Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Geauga County Jail
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Howard County Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Jackson Parish Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Jerome Combs Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Kay County Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Krome North Service Processing Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
LaSalle County Regional Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Monroe County Inmate Dormitory
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Northwest ICE Processing Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Orange County Correctional Facility
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Pike County Correctional Facility
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Pine Prairie ICE Processing Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Richwood Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
River Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
San Luis Regional Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
South Louisiana ICE Processing Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Stewart Detention Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Winn Correctional Center
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Yuba County Jail
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<pre class="r"><code># Use Color Brewer to set colors and modify
# the last color to be black for totals.
plot_colors &lt;- brewer.pal(2, &quot;Paired&quot;)

df_324_inc %&gt;%
  
  # Subset the df to only the used cols
  select(id, facility, date,
       hunger_strikes
       ) %&gt;% 
  drop_na() %&gt;% 
 

  # Calling the plot and formatting
  ggplot(aes(x=date, y = hunger_strikes))+
  geom_line(size = .65) +
  
  # scale_color_manual(
  #   values = plot_colors,
  #   labels = c(
  #     &quot;Suicide Attempts or Self Harm&quot;,
  #     &quot;Suicide Watches/Constant Watch/Mental Health Observation&quot;
  #     ),
  #   name = &quot;Type:&quot;
  #   )+
  # 
  labs(title = &quot;Hunger Strikes&quot;)+
  ylab(&quot;Number of Hunger Strikes&quot;)+
  xlab(&quot;Date&quot;)+
  theme(
    strip.text = element_text(size = 5),
    legend.position = &quot;bottom&quot;
    )+
  
  # Set the legend to multiple rows
  guides(col = guide_legend(nrow =5))+
  
  # Wrap
  facet_wrap(~ facility, ncol = 3)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/hunger-strike-facet-1.png" width="672" /></p>
</div>
</div>
<div id="cause-of-death" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Cause of Death</h1>
<div id="suicide-as-cause-of-death" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Suicide as Cause of Death</h2>
<p>Bar plot of ICE and non-ICE deaths by suicide plotted by facility as of 2021-07-06.</p>
<pre class="r"><code>df_324 %&gt;% 
  select(id,
         facility,
         state,
         date,
         fac_operator,
         cod_suicide_ice,
         cod_suicide_not_ice) %&gt;% 
  drop_na() %&gt;% 
  filter(cod_suicide_ice&gt;0|cod_suicide_not_ice &gt;0) %&gt;% 
  mutate(cod_suicide_total = cod_suicide_ice + cod_suicide_not_ice) %&gt;% 
  
  # Here one could call datatable() or kable()
  # to get a list of the facilities and count
  
  # Initiate the plot
  ggplot(aes(x=cod_suicide_total, y=facility))+
  geom_boxplot()+
  scale_x_continuous(breaks = c(1,2))+
  labs(title = &quot;Cause of Death Suicide&quot;,
       subtitle = &quot;Includes ICE and non-ICE Deaths by Suicide&quot;)+
  xlab(&quot;COD Suicide Total&quot;)+
  ylab(&quot;Facility&quot;)</code></pre>
<p><img src="03-G-324A-2019-Exploratory-Plots_files/figure-html/suicide-cod-plot-1.png" width="672" /></p>
</div>
</div>
<div id="observations" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Observations</h1>
<p>Observations made on the data as they accumulate are logged below.</p>
<div id="may-2021" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> 28 May 2021</h2>
<ol style="list-style-type: decimal">
<li><p>Adelanto ICE Processing Center - East and West have identical data for 2020, but the numbers are different for 2019 with East being much lower than west. Craig checked the inspections and the numbers are different for East and West in 2019 while they are in fact the same for 2020. Note that 2020 is a remote inspection. However, it is significant that the two are comparable in one instance and not comparable in another case.</p></li>
<li><p>Almance County Jail and Chase County Detention Center both seem to register blank for solitary. Craig suspects this is because there were not cases of solitary reported.</p></li>
</ol>
</div>
<div id="may-2021-1" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> 27 May 2021</h2>
<p>One of the important early observations has to do with the naming of facilities. ICE is often inconsistent with facility naming and the names do often change over time. Both the changing of names and inconsistent naming conventions can cause confusion as well as error when tabulating results.</p>
<ol style="list-style-type: decimal">
<li><p>The graphs for “<strong>Adelanto ICE Processing Center - East</strong>” and “<strong>Adelanto ICE Processing Center - West</strong>” are identical. This is consistent with information Craig recalls seeing in one of the inspections, that the numbers for the facilities are “merged” or combined.</p>
<ul>
<li>For facet graphing consider filtering. For analysis purposes may need to treat the two facilities as “merged”</li>
</ul></li>
<li><p>“<strong>Adelanto ICE Processing Center West</strong>” should be combined with “<strong>Adelanto ICE Processing Center - West</strong>.” It appears that ICE is not consistently naming the facilities, in one case the name lacks a dash character which causes them to be graphed separately.</p>
<ul>
<li>The dash was added to Adelanto West.</li>
</ul></li>
<li><p>It would be good to check if there really two facilities in Almance County. There are entries listed for “<strong>Almance County Detention Center</strong>” and “<strong>Almance County Jail</strong>.”</p>
<ul>
<li>Need to verify that these are in fact distinct facilities.</li>
</ul></li>
<li><p>“<strong>Aurora ICE Processing Center II - Annex</strong>” and “<strong>Aurora II Annex</strong>” should probably be combined. Need to check the inspections to verify.</p>
<ul>
<li>“<strong>Aurora II Annex (CO) - Jan. 29, 2021"</strong> was changed to”<strong>Aurora ICE Processing Center II - Annex (CO) - Jan. 29, 2021</strong>"</li>
</ul></li>
</ol>
</div>
</div>
<div id="references" class="section level1" number="10">
<h1><span class="header-section-number">10</span> References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-googlesheets4" class="csl-entry">
Bryan, Jennifer. 2021. <em>Googlesheets4: Access Google Sheets Using the Sheets API V4</em>. <a href="https://github.com/tidyverse/googlesheets4">https://github.com/tidyverse/googlesheets4</a>.
</div>
<div id="ref-R-lubridate" class="csl-entry">
Spinu, Vitalie, Garrett Grolemund, and Hadley Wickham. 2021. <em>Lubridate: Make Dealing with Dates a Little Easier</em>. <a href="https://CRAN.R-project.org/package=lubridate">https://CRAN.R-project.org/package=lubridate</a>.
</div>
<div id="ref-tukey1977" class="csl-entry">
Tukey, John Wilder. 1977. <em>Exploratory Data Analysis</em>. Addison-Wesley Series in Behavioral Science. Reading, Mass: Addison-Wesley Pub. Co.
</div>
<div id="ref-R-ggplot2" class="csl-entry">
Wickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, and Dewey Dunnington. 2021. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2">https://CRAN.R-project.org/package=ggplot2</a>.
</div>
<div id="ref-R-readr" class="csl-entry">
Wickham, Hadley, and Jim Hester. 2020. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
</div>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIlByZWxpbWluYXJ5IFJlYWRpbmcgYW5kIEdyYXBoaW5nIG9mIEluc3BlY3Rpb24gRGF0YSINCmF1dGhvcjogIk5hdGhhbiBDcmFpZyINCmRhdGU6ICJgciBmb3JtYXQoU3lzLkRhdGUoKSwgJyVBICVCICVkLCAlWScpYCINCm91dHB1dDoNCiAgYm9va2Rvd246Omh0bWxfZG9jdW1lbnQyOiANCiAgICB0b2M6IHRydWUNCiAgICB0b2NfZmxvYXQ6IHRydWUNCiAgICBudW1iZXJfc2VjdGlvbnM6IHRydWUNCiAgICBkZl9wcmludDogcGFnZWQNCiAgICBjb2RlX2ZvbGRpbmc6IGhpZGUNCiAgICBjb2RlX2Rvd25sb2FkOiB0cnVlDQpiaWJsaW9ncmFwaHk6IFtjaXRhdGlvbnMuYmliLCBwYWNrYWdlcy5iaWJdDQotLS0NCg0KIyBQdXJwb3NlDQoNClRoaXMgZG9jdW1lbnQgaXMgYSBwcmVsaW1pbmFyeSBwcm9vZiBvZiBjb25jZXB0IGFuZCBpbml0aWFsIGV4cGxvcmF0b3J5IGRhdGEgYW5hbHlzaXMgW0B0dWtleTE5NzddLiBHb2FscyBvZiB0aGUgZG9jdW1lbnQgYXJlIHRvOg0KDQotICAgaWxsdXN0cmF0ZSB0aGUga2luZHMgb2YgYW5hbHlzaXMgcG9zc2libGUgd2l0aCB0aGUgdGFidWxhdGlvbiBvZiBJQ0UgaW5zcGVjdGlvbiBkYXRhDQotICAgcHJvdmlkZSBwcmVsaW1pbmFyeSBleHBsb3JhdG9yeSBwbG90IG9mIHNlbGVjdCB2YXJpYWJsZXMgZnJvbSB0aGUgU2lnbmlmaWNhbnQgSW5jaWRlbnQgU3VtbWFyeSBTaGVldHMuDQotICAgZ2VuZXJhdGUgc29tZSBwcmVsaW1pbmFyeSBzdW1tYXJ5IGluZm9ybWF0aW9uDQoNClRoZSBkYXRhIGFyZSBwcmVzZW50bHkgaW5jb21wbGV0ZSBhbmQgcmVwcmVzZW50IHJlc3VsdHMgY29tcGlsZWQgYXMgb2YgYHIgU3lzLkRhdGUoKWAuDQoNCmBgYHtyIHNldHVwLCBpbmNsdWRlPUZBTFNFfQ0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KA0KCWVjaG8gPSBUUlVFLA0KCW1lc3NhZ2UgPSBGQUxTRSwNCgl3YXJuaW5nID0gRkFMU0UNCikNCmBgYA0KDQpgYGB7ciBsb2FkLWxpYnJhcmllc30NCiMgTG9hZCBuZWNlc3NhcnkgbGlicmFyaWVzDQoNCiMgUmVhZGluZyBhbmQgd3JhbmdsaW5nDQpsaWJyYXJ5KGdvb2dsZXNoZWV0czQpDQpsaWJyYXJ5KHJlYWRyKQ0KbGlicmFyeSh0aWR5dmVyc2UpDQpsaWJyYXJ5KGphbml0b3IpDQpsaWJyYXJ5KGx1YnJpZGF0ZSkNCmxpYnJhcnkoRFQpDQoNCiMgUGxvdHRpbmcNCmxpYnJhcnkoZ2dwbG90MikNCmxpYnJhcnkoUkNvbG9yQnJld2VyKQ0KDQojIFRhYmxlcw0KbGlicmFyeShrYWJsZUV4dHJhKQ0KDQojIExvYWQgY3VzdG9tIGZ1bmN0aW9uDQpzb3VyY2UoImZ1bmN0aW9uX2NsZWFuX2ZhY2lsaXR5X25hbWVzLlIiLCBsb2NhbCA9IGtuaXRyOjprbml0X2dsb2JhbCgpKQ0KYGBgDQoNCiMgSW50cm9kdWN0aW9uDQoNCiMjIE1ldGhvZCBmb3IgUmVhZGluZyBHLTMyNEEtMTktaW5jIGZvcm0NCg0KVGhlIGNvZGUgZm9yIHRoaXMgcmVwb3J0IGlzIHNwZWNpZmljIHRvIGRhdGEgbG9nZ2VkIGluIHRoZSBHLTMyNEEtMTkgZm9ybSBhbmQgdGhlIGluY2lkZW50IHN1bW1hcmllcyBwb3J0aW9uIG9mIHRoYXQgZm9ybS4gVGhlIGluY2lkZW50IHN1bW1hcnkgcG9ydGlvbiBvZiB0aGlzIGZvcm0gaXMgcHJvYmFibHkgdGhlIG1vc3QgY29tcGxleCBkYXRhIHN0cnVjdHVyZSBpbiB0aGUgcHJvamVjdCBhbmQgYWxzbyBjb250YWlucyB0aGUgbGFyZ2VzdCB2b2x1bWUgb2YgcXVhbnRpdGF0aXZlIGluZm9ybWF0aW9uLiBUaGVyZWZvcmUsIGl0IHNlZW1lZCBsaWtlIGEgZ29vZCBwbGFjZSB0byBzdGFydCB3aXRoIGFuIGluaXRpYWwgcHJvb2Ygb2YgY29uY2VwdC4NCg0KQXQgdGhlIG91dHNldCwgdGhlcmUgd2VyZSBpc3N1ZXMgcmVhZGluZyBpbiB0aGUgR29vZ2xlIFNoZWV0LiBTZXZlcmFsIG9mIHRoZSBudW1lcmljIGNvbHVtbnMgcmVhZCBpbnRvIFIgYXMgbGlzdHMgd2hpY2ggd2FzIHVuZGVzaXJhYmxlLiBJbiB0aGUgR29vZ2xlIFNoZWV0LCBDcmFpZyBzZXQgdGhlIGNvbHVtbnMgdG8gYHBsYWluIHRleHRgIHJhdGhlciB0aGFuIGBhdXRvYCBhbmQgdGhlIGRhdGEgYXJlIHJlYWQgaW50byBSIGFzIGNoYXJhY3RlciBjb2x1bW5zLiBUaGlzIHNlZW1lZCB0byByZXNvbHZlIHRoZSBpc3N1ZSBmb3IgYSB0aW1lLCBhbmQgaXQgd2FzIHBvc3NpYmxlIHRvIHVzZSB0aGUgYHR5cGVfY29udmVydCgpYCBmdW5jdGlvbiBmcm9tIHRoZSBgcmVhZHJgIGxpYnJhcnkgW0BSLXJlYWRyXSB0byBjb252ZXJ0IHRoZXNlIGNvbHVtbnMgdG8gbnVtYmVycy4gVGhlIGBjb2xfdHlwZXNgIGFyZ3VtZW50IG9mIHRoZSBgcmVhZF9zaGVldGAgZnVuY3Rpb24gb2YgdGhlIGBnb29nbGVzaGVldHM0YCBsaWJyYXJ5IFtAUi1nb29nbGVzaGVldHM0XSB3YXMgdXNlZCB0byBleHBsaWNpdGx5IHNldCB0aGUgY29sdW1uIHR5cGVzIHRvIGNoYXJhY3Rlci4gQWZ0ZXIgYXBwbHlpbmcgdGhlIGBjbGVhbl9mYWNpbGl0eV9uYW1lc2AgY3VzdG9tIGZ1bmN0aW9uLCBhZGRpdGlvbmFsIHRyYW5zZm9ybWF0aW9ucyBsaWtlIGNvbnZlcnRpbmcgZmFjaWxpdHkgdG8gYSBmYWN0b3IgYXJlIGFwcGxpZWQuDQoNClRoZXJlIHdlcmUgc29tZSBpc3N1ZXMgdXNpbmcgYGx1YnJpZGF0ZWAgW0BSLWx1YnJpZGF0ZV0gdG8gd3JhbmdsZSB0aGUgbW9udGggYW5kIHllYXIgZmllbGRzIHRvIGEgcHJvcGVyIGRhdGUuIENyYWlnIHdhcyBub3QgYWJsZSB0byBkaXNjZXJuIHRoZSBjYXVzZSBvZiB0aGUgaXNzdWUuIEhvd2V2ZXIsIGNoYW5naW5nIHRoZSBtb250aCBmb3JtYXQgb24gdGhlIGluY2lkZW50IHNoZWV0IGZyb20gYWJicmV2aWF0ZWQgdG8gZnVsbHkgd3JpdHRlbiBvdXQgbW9udGhzIHNvbHZlZCB0aGUgaXNzdWUuIFRob3NlIGNoYW5nZXMgd2VyZSBtYWRlIGluIHRoZSBtYXN0ZXIgR29vZ2xlIFNoZWV0IGFuZCB0aGUgZGF0YSB3ZXJlIGNhbGxlZCB1c2luZyB0aGUgYGdvb2dsZXNoZWV0czRgIGxpYnJhcnkuDQoNCmBgYHtyIHJlYWQtZGF0YS0zMjR9DQojIFJlYWQgaW4gU2hlZXQgRy0zMjRBLTE5DQpkZl8zMjQgPC0gcmVhZF9zaGVldCgiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMWltNVZTaTNiSUVpMTNPOFdRNTZ3RUlYU3lORXN0YkdNeWxYWGdEOWJBRzAvZWRpdCNnaWQ9MTg1ODIyNzA3MSIsDQogICAgICAgICAgICAgICAgIHNoZWV0PSJHLTMyNEEtMTkiLA0KICAgICAgICAgICAgICAgICBjb2xfbmFtZXMgPSBUUlVFLA0KICAgICAgICAgICAgICAgICBjb2xfdHlwZXMgPSAiYyIpICU+JSANCiAgY2xlYW5fbmFtZXMoKSAlPiUgDQogIA0KICAjIFJ1biBjdXN0b20gY2xlYW5pbmcgZnVuY3Rpb24NCiAgY2xlYW5fZmFjaWxpdHlfbmFtZXMoKSAlPiUgDQogIA0KICAjIGRmIHNwZWNpZmljIGNoYW5nZXMNCiAgbXV0YXRlKGZhY2lsaXR5ID0gYXMuZmFjdG9yKGZhY2lsaXR5KSwNCiAgICAgICAgIHN0YXRlID0gYXMuZmFjdG9yKHN0YXRlKSwNCiAgICAgICAgIGRhdGUgPSBtZHkoaW5zcGVjdGlvbl9kYXRlKSwNCiAgICAgICAgIGN1cnJlbnRfaW5zcGVjdGlvbl9kYXRlX2Zyb20gPSBtZHkoY3VycmVudF9pbnNwZWN0aW9uX2RhdGVfZnJvbSksDQogICAgICAgICBjdXJyZW50X2luc3BlY3Rpb25fZGF0ZV90byA9IG1keShjdXJyZW50X2luc3BlY3Rpb25fZGF0ZV90bykNCiAgICAgICAgICkgJT4lIA0KICByZWxvY2F0ZShkYXRlLCAuYmVmb3JlID0gaW5zcGVjdGlvbl9kYXRlKSAlPiUgDQogIG11dGF0ZV9hdChjKDIwOjQ5KSwgYXMubnVtZXJpYykNCmBgYA0KDQpgYGB7ciByZWFkLWRhdGEtMzI0LWluY2lkZW50fQ0KIyBSZWFkIEdvb2dsZSBTaGVldCBpbmNpZGVudCB3b3Jrc2hlZXQsIGNvbnZlcnQgdG8gZGF0YSBmcmFtZSwgYW5kIHdyYW5nbGUNCmRmXzMyNF9pbmMgPC0gcmVhZF9zaGVldCgiaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMWltNVZTaTNiSUVpMTNPOFdRNTZ3RUlYU3lORXN0YkdNeWxYWGdEOWJBRzAvZWRpdCNnaWQ9MTg1ODIyNzA3MSIsDQogICAgICAgICAgICAgICAgIHNoZWV0PSJHLTMyNEEtMTktaW5jIiwNCiAgICAgICAgICAgICAgICAgY29sX3R5cGVzID0gImMiKSAlPiUgDQogIGNsZWFuX25hbWVzKCkgJT4lDQogIA0KICAjIFJ1biBjdXN0b20gY2xlYW5pbmcgZnVuY3Rpb24NCiAgY2xlYW5fZmFjaWxpdHlfbmFtZXMoKSAlPiUgDQoNCg0KICAjIGRmX3NwZWNpZmljIGNoYW5nZXMNCiAgdW5pdGUoZGF0ZSwgeWVhcjptb250aCkgJT4lIA0KICBtdXRhdGUoZmFjaWxpdHkgPSBhcy5mYWN0b3IoZmFjaWxpdHkpLA0KICAgICAgICAgc3RhdGUgPSBhcy5mYWN0b3Ioc3RhdGUpLA0KICAgICAgICAgZGF0ZSA9IHltKGRhdGUpDQogICAgICAgICApICU+JSANCiAgbXV0YXRlX2F0KGMoNjo3NiksIGFzLm51bWVyaWMpDQpgYGANCg0KQXQgcHJlc2VudCBgciBucm93KGRmXzMyNClgIFNJUyBhbmQgaW5zcGVjdGlvbiBjb3ZlciBsZXR0ZXIgY29tYmluYXRpb25zIG91dCBvZiBhcHByb3hpbWF0ZWx5IDMwMCBpbnNwZWN0aW9ucyBhcmUgY29tcGxldGUuIFRoZSBjb21wbGV0ZWQgaW5zcGVjdGlvbnMgcmFuZ2UgaW4gdGltZSBmcm9tIGByIG1pbihkZl8zMjQkZGF0ZSwgbmEucm0gPSBUUlVFKWAgdG8gYHIgbWF4KGRmXzMyNCRkYXRlLCBuYS5ybSA9IFRSVUUpYC4gU3R1ZGVudHMgYXJlIG5vdyB3b3JraW5nIG9uIG9sZGVyIFNJUyBmb3JtcyB3aGljaCBhcmUgc3RydWN0dXJlZCBkaWZmZXJlbnRseS4gVGhlIHByZWxpbWluYXJ5IEVEQSBiZWxvdyBpcyByZXN0cmljdGVkIHRvIHRoZSBtb3JlIGN1cnJlbnQgU0lTIGZvcm1zIHdoaWNoIHdlcmUgZmlyc3QgdXNlZCBpbiBNYXkgMjAxOS4NCg0KIyMgU3VtbWFyeSBUYWJsZXMNCg0KU3VtbWFyeSB0YWJsZXMgaGVscCB0byBwcm92aWRlIGFuIG92ZXJ2aWV3IG9mIGhvdyBtYW55IGluc3RhbmNlcyBvY2N1ciB3aXRoaW4gcGFydGljdWxhciBjYXRlZ29yeSBvZiBkYXRhIG9yIGhvdyBmcmVxdWVudCBhIHBhcnRpY3VsYXIgaXNzdWUgaXMgcmVjb3JkZWQgYXQgYSBnaXZlbiBmYWNpbGl0eS4gU3VtbWFyeSB0YWJsZXMgYXJlIGdlbmVyYXRlZCB1c2luZyBhIGNvbWJpbmF0aW9uIG9mIGBncm91cF9ieWAgd2l0aCBgc3VtbWFyaXplYCB3aXRoIHRoZSByZXN1bHRzIHBpcGVkIHRvIGBrYWJsZWAgYW5kIGBrYWJsZUV4dHJhYC4gVGhpcyBwcm9kdWNlcyByZXN1bHRzIHNpbWlsYXIgdG8gYSAicGl2b3QgdGFibGUiIGZyb20gRXhjZWwuDQoNClRhYmxlIFxAcmVmKHRhYjppbnNwZWN0aW9uLWNvdW50KSBzaG93cyB0aGUgbnVtYmVyIG9mIGluc3BlY3Rpb25zIHBlciBmYWNpbGl0eSB0aGF0IGFyZSBwcm9jZXNzZWQgc28gZmFyLiBUaGUgdmFsdWVzIHJhbmdlIGZyb20gMS0zIGluc3BlY3Rpb25zLiBEb3JjaGVzdGVyIENvdW50eSBEZXRlbnRpb24gQ2VudGVyLCBHb2xkZW4gU3RhdGUgQW5uZXgsIGFuZCBSaXZlciBDb3JyZWN0aW9uYWwgQ2VudGVyIGFsbCBoYXZlIHRocmVlIGluc3BlY3Rpb25zLg0KDQpgYGB7ciBpbnNwZWN0aW9uLWNvdW50fQ0KZGZfZmFjaWxpdHkgPC0gZGZfMzI0ICU+JSANCiAgZ3JvdXBfYnkoZmFjaWxpdHkpICU+JSANCiAgc3VtbWFyaXNlKG5faW5zcGVjdGlvbnMgPSBuKCkpICU+JSANCiAgdW5ncm91cCgpIA0KICANCmRmX2ZhY2lsaXR5ICU+JSANCiAga2FibGUoY2FwdGlvbiA9ICJJbnNwZWN0aW9ucyBSZXZpZXdlZCBieSBGYWNpbGl0eSIsDQogICAgICAgIGNvbC5uYW1lcyA9IGMoIkZhY2lsaXR5IiwgIkluc3BlY3Rpb25zIFJldmlld2VkIikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCiMjIEZhY2V0IFBsb3RzDQoNCkZhY2V0IHBsb3RzIHBhcnRpdGlvbiBlYWNoIHBvcnRpb24gb2YgYSBwbG90IGludG8gYSBtYXRyaXggb2YgcGFuZWxzLiBUaGVzZSBwbG90cyBhcmUgcHJvZHVjZWQgZm9yIHNldmVyYWwgY2F0ZWdvcmllcyBvZiBkYXRhIHdoZXJlIGVhY2ggcGFuZWwgcmVwcmVzZW50cyBhIGZhY2lsaXR5IGZvciBhIGdpdmVuIHZhcmlhYmxlIHJlcG9ydGVkIGluIHRoZSBTSVMgZm9ybS4gV2l0aGluIGVhY2ggY2F0ZWdvcnksIGNvbHVtbnMgYXJlIHBpdm90ZWQgbG9uZ2VyIGFuZCBwbG90dGVkIGJ5IGRhdGUuIEdyYXBoaW5nIGlzIGRvbmUgdXNpbmcgdGhlIGBnZ3Bsb3QyYCBsaWJyYXJ5IFtAUi1nZ3Bsb3QyXSB3aXRoIHRoZSBgZmFjZXRfd3JhcGAgZnVuY3Rpb24gdG8gcHJvdmlkZSBhIG1lYW5zIHRvIGNvbXBhcmUgbXVsdGlwbGUgZmFjaWxpdGllcyBzaW11bHRhbmVvdXNseS4gU3VjaCBhIHBsb3QgY2FuIGhlbHAgaWRlbnRpZnkgdHJlbmRzIGFuZCBndWlkZSBtb3JlIHNwZWNpZmljIHF1ZXN0aW9ucy4NCg0KDQojIyBTSVMgRm9ybSBzdHJ1Y3R1cmUNClRoZSBJQ0UgRy0zMjRBIFNpZ25pZmljYW50IEluY2lkZW50IFN1bW1hcnkgY29udGFpbnMgaW5mb3JtYXRpb24gb24gdGhlIGZvbGxvd2luZyBjYXRlZ29yaWVzIG9mIGluZm9ybWF0aW9uOg0KDQoNCg0KDQojIERpc2NpcGxpbmFyeQ0KDQpBcyBhIG1hdHRlciBvZiBsYXcsIElDRSBkZXRlbnRpb24gaXMgbm90IHB1bml0aXZlIGl0IGlzIHB1cmVseSBhZG1pbmlzdHJhdGl2ZSBjaXZpbCBob2xkaW5nIHRvIGVuc3VyZSB0aGF0IGluZGl2aWR1YWxzIGFyZSBwcmVzZW50IGZvciB0aGVpciBpbW1pZ3JhdGlvbiBwcm9jZWVkaW5ncy4gRGVzcGl0ZSB0aGF0IGZhY3QsIHRoZXJlIGlzIGEgdHJlbWVuZG91cyBhbW91bnQgb2YgcHVuaXRpdmUgZGlzY2lwbGluYXJ5IG1lYXN1cmVzIHRoYXQgdGFrZSBwbGFjZSBpbiBJQ0UgZGV0ZW50aW9uLiBTb21lIG9mIHRoaXMgaW5mb3JtYXRpb24gb24gZGlzY2lwbGluZSBpbiBJQ0UgZGV0ZW50aW9uIGlzIGxvZ2dlZCBpbiBmYWNpbGl0eSBpbnNwZWN0aW9ucy4gQXMgc2VlbiBpbiB0aGUgdGFibGVzIGJlbG93LCBkdXJpbmcgdGhlIGN1cnJlbnQgc2FtcGxlIHBlcmlvZCB0aGVyZSB3ZXJlIG1vcmUgdGhhbiA0MiwwMDAgZGlzY2lwbGluYXJ5IGluZnJhY3Rpb25zLg0KDQojIyBTdW1tYXJ5IFRhYmxlcw0KDQpgYGB7cn0NCmRmX2Rpc2NpcGxpbmUgPC0gZGZfMzI0X2luYyAlPiUNCiAgDQogICMgU3Vic2V0IHRoZSBkZiB0byBvbmx5IHRoZSB1c2VkIGNvbHMNCiAgc2VsZWN0KGlkLCBmYWNpbGl0eSwgZGF0ZSwNCiAgICAgICBkaXNjaXBsaW5hcnlfaW5mcmFjdGlvbnM6DQogICAgICAgc2FuY3Rpb25zX292ZXJfNjBfZGF5cw0KICAgICAgICkgJT4lIA0KICANCiAgIyBOZWVkIHRoZSByb3d3aXNlIGZ1bmN0aW9uIHRvIGNvbXB1dGUgYSByb3ctYXQtYS10aW1lDQogICMgaW4gdGhlIGZvbGxvd2luZyBtdXRhdGUgZnVuY3Rpb24NCiAgcm93d2lzZShpZCkgJT4lIA0KICANCiAgIyBDcmVhdGUgYSBuZXcgdG90YWwgY29sdW1uDQogIG11dGF0ZSh0b3RhbF9kaXNjaXBsaW5hcnkgPSBzdW0oY19hY3Jvc3MoDQogICAgICAgZGlzY2lwbGluYXJ5X2luZnJhY3Rpb25zOg0KICAgICAgIHNhbmN0aW9uc19vdmVyXzYwX2RheXMNCiAgKSkpICU+JSANCg0KICAjIENhbGwgYSByYW5nZSBvZiB0YWJsZSBjb2x1bW5zIGFuZCBwaXZvdCBsb25nDQogIHBpdm90X2xvbmdlciguLA0KICAgICAgICAgICAgICAgY29scz0gIGRpc2NpcGxpbmFyeV9pbmZyYWN0aW9uczp0b3RhbF9kaXNjaXBsaW5hcnksDQogICAgICAgICAgICAgICBuYW1lc190byA9ICJkaXNjaXBsaW5hcnlfdHlwZSIsDQogICAgICAgICAgICAgICB2YWx1ZXNfdG8gPSAiZGlzY2lwbGluYXJ5X2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQSB2YWx1ZXMNCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBzZXQgZmFjdG9yIGxldmVscw0KICBtdXRhdGUoZGlzY2lwbGluYXJ5X3R5cGUgPSBmYWN0b3IoZGlzY2lwbGluYXJ5X3R5cGUsIGxldmVscyA9YygNCiAgICAiZGlzY2lwbGluYXJ5X2luZnJhY3Rpb25zIiwNCiAgICAiZGlzY2lwbGluYXJ5X2luZnJhY3Rpb25zX2d1aWx0eSIsDQogICAgImRpc2NpcGxpbmFyeV9hcHBlYWxzIiwNCiAgICAiZGlzY2lwbGluYXJ5X2FwcGVhbHNfZm91bmRfaW5fZmF2b3Jfb2ZfZGV0YWluZWUiLA0KICAgICJzYW5jdGlvbnNfb3Zlcl82MF9kYXlzIiwNCiAgICAidG90YWxfZGlzY2lwbGluYXJ5Ig0KICApKSkNCmBgYA0KDQpgYGB7cn0NCmRmX2Rpc2NpcGxpbmUgJT4lIA0KICBncm91cF9ieShkaXNjaXBsaW5hcnlfdHlwZSkgJT4lIA0KICBzdW1tYXJpc2UoYFRvdGFsIERpc2NpcGxpbmFyeSBieSBUeXBlYCA9IHN1bShkaXNjaXBsaW5hcnlfY291bnQpKSAlPiUgDQogIHVuZ3JvdXAoKSAlPiUgDQogIGthYmxlKGNhcHRpb24gPSAiVG90YWwgRGlzY2lwbGluYXJ5IGJ5IFR5cGUiLA0KICAgICAgICBjb2wubmFtZXMgPSBjKCJEaXNjaXBsaW5lIFR5cGUiLCAiVG90YWwgRGlzY2lwbGluZSBUeXBlIikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpDQoNCg0KZGZfZGlzY2lwbGluZSAlPiUgDQogIGdyb3VwX2J5KGZhY2lsaXR5KSAlPiUgDQogIHN1bW1hcmlzZSh0b3RhbF9kaXNjaXBsaW5hcnkgPSBzdW0oZGlzY2lwbGluYXJ5X2NvdW50KSkgJT4lIA0KICBhcnJhbmdlKGRlc2ModG90YWxfZGlzY2lwbGluYXJ5KSkgJT4lIA0KICB1bmdyb3VwKCkgJT4lIA0KICBrYWJsZShjYXB0aW9uID0gIlRvdGFsIERpc2NpcGxpbmUgYnkgRmFjaWxpdHkiLA0KICAgICAgICBjb2wubmFtZXMgPSBjKCJGYWNpbGl0eSIsICJUb3RhbCBEaXNjaXBsaW5lIGJ5IEZhY2lsaXR5IikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCiMjIEZhY2V0IFBsb3Qgb2YgRGlzY2lwbGluYXJ5IGJ5IEZhY2lsaXR5DQoNCmBgYHtyIGRpc2NpcGxpbmFyeS1mYWNldCwgZmlnLmhlaWdodD00MH0NCiMgR2VuZXJhdGluZyBhIGxpbmV0eXBlIHZlY3RvciBmb3IgdXNlIGluIHRoZSBwbG90DQpwbG90X2xpbmVzIDwtIGMoDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJkb3R0ZWQiDQogICAgKQ0KDQojIFVzZSBDb2xvciBCcmV3ZXIgdG8gc2V0IGNvbG9ycyBhbmQgbW9kaWZ5DQojIHRoZSBsYXN0IGNvbG9yIHRvIGJlIGJsYWNrIGZvciB0b3RhbHMuDQpwbG90X2NvbG9ycyA8LSBicmV3ZXIucGFsKDYsICJQYWlyZWQiKQ0KcGxvdF9jb2xvcnNbNl0gPC0gIiMwMDAwMDAiDQoNCiMgQ3JlYXRlIHBsb3QgbGFiZWxzDQoNCnBsb3RfbGFiZWxzIDwtIGMoDQogICAgIkRpc2NpcGxpbmFyeSBJbmZyYWN0aW9ucyIsDQogICAgIkRpc2NpcGxpbmFyeSBJbmZyYWN0aW9ucyAtIEd1aWx0eSIsDQogICAgIkRpc2NpcGxpbmFyeSBBcHBlYWxzIiwNCiAgICAiRGlzY2lwbGluYXJ5IEFwcGVhbHMgaW4gRmF2b3Igb2YgRGV0YWluZWUiLA0KICAgICJTYW5jdGlvbnMgT3ZlciA2MCBEYXlzIiwNCiAgICAiVG90YWwgRGlzY2lwbGluYXJ5IikNCg0KDQpkZl9kaXNjaXBsaW5lICU+JSANCiAgDQogICMgQ2FsbGluZyB0aGUgcGxvdCBhbmQgZm9ybWF0dGluZw0KICBnZ3Bsb3QoYWVzKHg9ZGF0ZSwNCiAgICAgICAgICAgICB5ID0gZGlzY2lwbGluYXJ5X2NvdW50LA0KICAgICAgICAgICAgIGxpbmV0eXBlID0gZGlzY2lwbGluYXJ5X3R5cGUpKSsNCiAgZ2VvbV9saW5lKGFlcyhjb2xvciA9IGRpc2NpcGxpbmFyeV90eXBlKSwgc2l6ZSA9IC42NSkgKw0KICANCiAgIyBTZXQgdGhlIGxpbmV0eXBlDQogIHNjYWxlX2xpbmV0eXBlX21hbnVhbCgNCiAgICB2YWx1ZXMgPSBwbG90X2xpbmVzLA0KICAgIGxhYmVscyA9IHBsb3RfbGFiZWxzLA0KICAgIG5hbWUgPSAiRGlzY2lwbGluYXJ5IFR5cGU6IiwNCiAgICBndWlkZSA9IGd1aWRlX2xlZ2VuZChucm93ID0gNikNCiAgICApKw0KICANCiAgIyBTZXR0aW5nIHRoZSBjb2xvcg0KICBzY2FsZV9jb2xvcl9tYW51YWwoDQogIHZhbHVlcyA9IHBsb3RfY29sb3JzLA0KICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgbmFtZSA9ICJEaXNjaXBsaW5hcnkgVHlwZToiDQogICkrDQoNCiAgbGFicyh0aXRsZSA9ICJEaXNjaXBsaW5hcnkiKSsNCiAgeWxhYigiTnVtYmVyIG9mIERpc2NpcGxpbmFyeSBJbmZyYWN0aW9ucyIpKw0KICB4bGFiKCJEYXRlIikrDQogIHRoZW1lKA0KICAgIHN0cmlwLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDgpLA0KICAgIGxlZ2VuZC5wb3NpdGlvbiA9ICJib3R0b20iDQogICAgKSsNCg0KICAjIFNldCB0aGUgbGVnZW5kIHRvIG11bHRpcGxlIHJvd3MNCiAgZ3VpZGVzKGNvbCA9IGd1aWRlX2xlZ2VuZChucm93ID02KSkrDQogIA0KICAjIFdyYXANCiAgZmFjZXRfd3JhcCh+IGZhY2lsaXR5LCBuY29sPTMpDQpgYGANCg0KIyBTb2xpdGFyeQ0KDQojIyBTdW1tYXJ5IFRhYmxlcw0KDQpPZiB0aGUgcHJlc2VudCAxNjMgaW5zcGVjdGlvbnMgcmV2aWV3ZWQgc28gZmFyLCB0aGVyZSBhcmUgbW9yZSB0aGFuIDM0LDAwMCBpbnN0YW5jZXMgb2Ygc29saXRhcnkuIFRoYXQgaXMgcm91Z2hseSAyMDggaW5zdGFuY2VzIG9mIHNvbGl0YXJ5IHBlciBpbnNwZWN0aW9uLg0KDQpgYGB7cn0NCmRmX3NvbGl0YXJ5IDwtIGRmXzMyNF9pbmMgJT4lDQogIA0KICAjIFNlbGVjdCBhIHN1YnNldCBvZiBjb2x1bW5zIHRvIHdvcmsgd2l0aA0KICBzZWxlY3QoaWQsDQogICAgICAgICBmYWNpbGl0eSwNCiAgICAgICAgIGRhdGUsDQogICAgICAgICBkZXRhaW5lZXNfcGxhY2VkX2luX2FkbWluaXN0cmF0aXZlX3NlZ3JlZ2F0aW9uOg0KICAgICAgICAgICBkZXRhaW5lZXNfcGxhY2VkX2luX3NlZ3JlZ2F0aW9uX2Zvcl9tZW50YWxfaGVhbHRoX3JlYXNvbnMpICU+JSANCiAgDQogICMgTmVlZCB0aGUgcm93d2lzZSBmdW5jdGlvbiB0byBjb21wdXRlIGEgcm93LWF0LWEtdGltZQ0KICAjIGluIHRoZSBmb2xsb3dpbmcgbXV0YXRlIGZ1bmN0aW9uDQogIHJvd3dpc2UoaWQpICU+JSANCiAgDQogICMgQ3JlYXRlIG5ldyB0b3RhbCBjb2x1bW4NCiAgbXV0YXRlKHRvdGFsX3NlZ3JlZ2F0aW9uID0gc3VtKGNfYWNyb3NzKGRldGFpbmVlc19wbGFjZWRfaW5fYWRtaW5pc3RyYXRpdmVfc2VncmVnYXRpb246DQogICAgICAgICAgICAgICAgIGRldGFpbmVlc19wbGFjZWRfaW5fc2VncmVnYXRpb25fZm9yX21lbnRhbF9oZWFsdGhfcmVhc29ucykpKSAlPiUgDQogIA0KICAjIFRpZHkNCiAgcGl2b3RfbG9uZ2VyKC4sDQogICAgICAgICAgICAgICBjb2xzPSBkZXRhaW5lZXNfcGxhY2VkX2luX2FkbWluaXN0cmF0aXZlX3NlZ3JlZ2F0aW9uOg0KICAgICAgICAgICAgICAgICB0b3RhbF9zZWdyZWdhdGlvbiwNCiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gInNlZ3JlZ2F0aW9uX3R5cGUiLA0KICAgICAgICAgICAgICAgdmFsdWVzX3RvID0gInNlZ3JlZ2F0aW9uX2NvdW50IikgJT4lIA0KICANCiAgIyBSZW1vdmUgTkENCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBzZXQgZmFjdG9yIGxldmVscw0KICBtdXRhdGUoc2VncmVnYXRpb25fdHlwZSA9IGZhY3RvcihzZWdyZWdhdGlvbl90eXBlLCBsZXZlbHMgPSBjKA0KICAgICJkZXRhaW5lZXNfcGxhY2VkX2luX2FkbWluaXN0cmF0aXZlX3NlZ3JlZ2F0aW9uIiwNCiAgICAiZGV0YWluZWVzX3BsYWNlZF9pbl9kaXNjaXBsaW5hcnlfc2VncmVnYXRpb24iLA0KICAgICJkZXRhaW5lZXNfcGxhY2VkX2luX3NlZ3JlZ2F0aW9uX2Zvcl9tZWRpY2FsX3JlYXNvbnMiLA0KICAgICJkZXRhaW5lZXNfcGxhY2VkX2luX3NlZ3JlZ2F0aW9uX2Zvcl9tZW50YWxfaGVhbHRoX3JlYXNvbnMiLA0KICAgICJ0b3RhbF9zZWdyZWdhdGlvbiINCiAgKSkpDQpgYGANCg0KYGBge3J9DQpkZl9zb2xpdGFyeSAlPiUgDQogIGdyb3VwX2J5KHNlZ3JlZ2F0aW9uX3R5cGUpICU+JSANCiAgc3VtbWFyaXNlKGBUb3RhbCBTb2xpdGFyeSBieSBUeXBlYCA9IHN1bShzZWdyZWdhdGlvbl9jb3VudCkpICU+JSANCiAgdW5ncm91cCgpICU+JSANCiAga2FibGUoY2FwdGlvbiA9ICJUb3RhbCBTb2xpdGFyeSBieSBUeXBlIiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiU29saXRhcnkgVHlwZSIsICJUb3RhbCBTb2xpdGFyeSBUeXBlIikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpDQoNCg0KZGZfc29saXRhcnkgJT4lIA0KICBncm91cF9ieShmYWNpbGl0eSkgJT4lIA0KICBzdW1tYXJpc2UodG90YWxfc2VncmVnYXRpb24gPSBzdW0oc2VncmVnYXRpb25fY291bnQpKSAlPiUgDQogIGFycmFuZ2UoZGVzYyh0b3RhbF9zZWdyZWdhdGlvbikpICU+JSANCiAgdW5ncm91cCgpICU+JSANCiAga2FibGUoY2FwdGlvbiA9ICJUb3RhbCBTb2xpdGFyeSBieSBGYWNpbGl0eSIsDQogICAgICAgIGNvbC5uYW1lcyA9IGMoIkZhY2lsaXR5IiwgIlRvdGFsIFNvbGl0YXJ5IGJ5IEZhY2lsaXR5IikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCiMjIEZhY2V0IFBsb3RzIG9mIFNvbGl0YXJ5IGJ5IEZhY2lsaXR5DQoNCmBgYHtyIHNvbGl0YXJ5LWZhY2V0LCBmaWcuaGVpZ2h0PTQwfQ0KIyBHZW5lcmF0aW5nIGEgbGluZXR5cGUgdmVjdG9yIGZvciB1c2UgaW4gdGhlIHBsb3QNCnBsb3RfbGluZXMgPC0gYygNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJkb3R0ZWQiDQogICAgKQ0KDQojIFVzZSBDb2xvciBCcmV3ZXIgdG8gc2V0IGNvbG9ycyBhbmQgbW9kaWZ5DQojIHRoZSBsYXN0IGNvbG9yIHRvIGJlIGJsYWNrIGZvciB0b3RhbHMuDQpwbG90X2NvbG9ycyA8LSBicmV3ZXIucGFsKDUsICJQYWlyZWQiKQ0KcGxvdF9jb2xvcnNbNV0gPC0gIiMwMDAwMDAiDQoNCiMgQ3JlYXRlIHBsb3QgbGFiZWxzDQpwbG90X2xhYmVscyA8LSBjKA0KICAgICJBZG1pbmlzdHJhdGl2ZSIsDQogICAgIkRpc2NpcGxpbmFyeSIsDQogICAgIk1lZGljYWwiLA0KICAgICJNZW50YWwgSGVhbHRoIiwNCiAgICAiVG90YWwiKQ0KDQpkZl9zb2xpdGFyeSAlPiUgDQoNCiMgQ2FsbGluZyB0aGUgcGxvdCBhbmQgZm9ybWF0dGluZw0KICBnZ3Bsb3QoYWVzKHg9ZGF0ZSwNCiAgICAgICAgICAgICB5ID0gc2VncmVnYXRpb25fY291bnQsDQogICAgICAgICAgICAgbGluZXR5cGUgPSBzZWdyZWdhdGlvbl90eXBlKSkrDQogIGdlb21fbGluZShhZXMoY29sb3IgPSBzZWdyZWdhdGlvbl90eXBlKSwgc2l6ZSA9IC42NSkgKw0KICANCiAgIyBTZXQgdGhlIGNvbG9yDQogIHNjYWxlX2NvbG9yX21hbnVhbCgNCiAgdmFsdWVzID0gcGxvdF9jb2xvcnMsDQogIG5hbWUgPSAiU29saXRhcnkgVHlwZToiLA0KICBsYWJlbHMgPSBwbG90X2xhYmVscykrDQogIA0KICAjIFNldCB0aGUgbGluZXR5cGUNCiAgc2NhbGVfbGluZXR5cGVfbWFudWFsKA0KICAgIHZhbHVlcyA9IHBsb3RfbGluZXMsDQogICAgICBuYW1lID0gIlNvbGl0YXJ5IFR5cGU6IiwNCiAgICBsYWJlbHMgPSBwbG90X2xhYmVscykrDQogIA0KICANCiAgbGFicyh0aXRsZSA9ICJSZXBvcnRlZCBVc2Ugb2YgU29saXRhcnkiKSsNCiAgeWxhYigiTnVtYmVyIG9mIEluZGl2aWR1YWxzIFBhbGNlZCBpbiBTb2xpdGFyeSIpKw0KICB4bGFiKCJEYXRlIikrDQogIHRoZW1lKA0KICAgIHN0cmlwLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDgpLA0KICAgIGxlZ2VuZC5wb3NpdGlvbiA9ICJib3R0b20iDQogICAgKSsNCiAgICBmYWNldF93cmFwKH4gZmFjaWxpdHksIG5jb2w9MykNCmBgYA0KDQojIyBTb2xpdGFyeSBPdmVyIDYwIERheXMNCg0KYGBge3Igc29saXRhcnktNjAtZmFjZXR9DQoNCiMgVXNlIENvbG9yIEJyZXdlciB0byBzZXQgY29sb3JzIGFuZCBtb2RpZnkNCiMgdGhlIGxhc3QgY29sb3IgdG8gYmUgYmxhY2sgZm9yIHRvdGFscy4NCnBsb3RfY29sb3JzIDwtIGJyZXdlci5wYWwoNSwgIlBhaXJlZCIpDQpwbG90X2NvbG9yc1s1XSA8LSAiIzAwMDAwMCINCg0KIyBDYWxsIHRoZSBkYXRhZnJhbWUgYW5kIHNlbGVjdCBjb2xzDQpkZl8zMjQgJT4lIA0KICBzZWxlY3QoaWQsDQogICAgICAgICBmYWNpbGl0eSwNCiAgICAgICAgIHN0YXRlLA0KICAgICAgICAgZGF0ZSwNCiAgICAgICAgIGZhY19vcGVyYXRvciwNCiAgICAgICAgIGFkbWluX3NlZ182MF9pY2UsDQogICAgICAgICBkaXNjX3NlZ182MF9pY2UpICU+JSANCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgTmVlZCB0aGUgcm93d2lzZSBmdW5jdGlvbiB0byBjb21wdXRlIGEgcm93LWF0LWEtdGltZQ0KICAjIGluIHRoZSBmb2xsb3dpbmcgbXV0YXRlIGZ1bmN0aW9uDQogIHJvd3dpc2UoaWQpICU+JSANCiAgDQogICMgR2VuZXJhdGUgdG90YWwgY29sDQogIG11dGF0ZSh0b3RhbF9zZWdfNjAgPSBzdW0oY19hY3Jvc3MoDQogICAgICAgYWRtaW5fc2VnXzYwX2ljZToNCiAgICAgICBkaXNjX3NlZ182MF9pY2UNCiAgKSkpICU+JQ0KICANCiAgIyBNYWtlIHRpZHkgYW5kIGZpbHRlcg0KICBwaXZvdF9sb25nZXIoY29scyA9IGFkbWluX3NlZ182MF9pY2U6ZGlzY19zZWdfNjBfaWNlLA0KICAgICAgICAgICAgICAgbmFtZXNfdG8gPSAic2VncmVnYXRpb25fNjBfdHlwZSIsDQogICAgICAgICAgICAgICB2YWx1ZXNfdG8gPSAic2VncmVnYXRpb25fNjBfY291bnQiKSAlPiUNCiAgZmlsdGVyKHNlZ3JlZ2F0aW9uXzYwX3R5cGUgJWluJSBjKCJhZG1pbl9zZWdfNjBfaWNlIiwgImRpc2Nfc2VnXzYwX2ljZSIpJg0KICAgICAgICAgICBzZWdyZWdhdGlvbl82MF9jb3VudCA+IDApICU+JQ0KICANCiAgIyBJbml0aWF0ZSB0aGUgcGxvdCBhbmQgc29ydCBieSBzdW0NCiAgZ2dwbG90KGFlcyh4ID0gc2VncmVnYXRpb25fNjBfY291bnQsDQogICAgICAgICAgICAgeT1yZW9yZGVyKGZhY19vcGVyYXRvciwgc2VncmVnYXRpb25fNjBfY291bnQsIHN1bSksDQogICAgICAgICAgICAgZmlsbD1zZWdyZWdhdGlvbl82MF90eXBlKSkrDQogIGdlb21fYmFyKHN0YXQgPSAiaWRlbnRpdHkiKSsNCiAgDQogICMgU2V0IHRoZSBjb2xvciBmaWxsDQogIHNjYWxlX2ZpbGxfYnJld2VyKHR5cGUgPSAicXVhbCIsDQogICAgICAgICAgICAgICAgICAgIHBhbGV0dGUgPSAiUGFpcmVkIiwNCiAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJTZWdyZWdhdGlvbiA+IDYwIFR5cGUiLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBjKCJBZG1pbmlzdHJhdGl2ZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkRpc2NpcGxpbmFyeSIpKSsNCiAgbGFicyh0aXRsZT0gIlNlZ3JlZ2F0aW9uID4gNjAgRGF5cyBieSBGYWNpbGl0eSBPcGVyYXRvciIsDQogICAgICAgIHggPSAiU2VncmVnYXRpb24gPiA2MCBEYXlzIENvdW50IiwNCiAgICAgICAgeSA9ICJGYWNpbGl0eSBPcGVyYXRvciIpKw0KICB0aGVtZShsZWdlbmQucG9zaXRpb24gPSAiYm90dG9tIikNCmBgYA0KDQojIFVzZSBvZiBGb3JjZQ0KDQojIyBTdW1tYXJ5IFRhYmxlcw0KDQpgYGB7cn0NCmRmX2ZvcmNlIDwtIGRmXzMyNF9pbmMgJT4lDQogIA0KICAjIFN1YnNldCB0aGUgZGYgdG8gb25seSB0aGUgdXNlZCBjb2xzDQogIHNlbGVjdChpZCwgZmFjaWxpdHksIGRhdGUsDQogICAgICAgaW1tZWRpYXRlX3VzZV9vZl9mb3JjZV9pbmNpZGVudHM6DQogICAgICAgc3RyaXBfc2VhcmNoZXMNCiAgICAgICApICU+JSANCiAgDQogICMgTmVlZCB0aGUgcm93d2lzZSBmdW5jdGlvbiB0byBjb21wdXRlIGEgcm93LWF0LWEtdGltZQ0KICAjIGluIHRoZSBmb2xsb3dpbmcgbXV0YXRlIGZ1bmN0aW9uDQogIHJvd3dpc2UoaWQpICU+JSANCiAgDQogICMgQ3JlYXRlIGEgbmV3IHRvdGFsIGNvbHVtbg0KICBtdXRhdGUodG90YWxfdXNlX29mX2ZvcmNlID0gc3VtKGNfYWNyb3NzKA0KICAgICAgIGltbWVkaWF0ZV91c2Vfb2ZfZm9yY2VfaW5jaWRlbnRzOg0KICAgICAgIHN0cmlwX3NlYXJjaGVzDQogICkpKSAlPiUgDQoNCiAgIyBDYWxsIGEgcmFuZ2Ugb2YgdGFibGUgY29sdW1ucyBhbmQgcGl2b3QgbG9uZw0KICBwaXZvdF9sb25nZXIoLiwNCiAgICAgICAgICAgICAgIGNvbHM9ICBpbW1lZGlhdGVfdXNlX29mX2ZvcmNlX2luY2lkZW50czp0b3RhbF91c2Vfb2ZfZm9yY2UsDQogICAgICAgICAgICAgICBuYW1lc190byA9ICJ1c2Vfb2ZfZm9yY2VfdHlwZSIsDQogICAgICAgICAgICAgICB2YWx1ZXNfdG8gPSAidXNlX29mX2ZvcmNlX2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQSB2YWx1ZXMNCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBkZWZpbmUgZmFjdG9ycw0KICBtdXRhdGUodXNlX29mX2ZvcmNlX3R5cGUgPSBmYWN0b3IodXNlX29mX2ZvcmNlX3R5cGUsIGxldmVscyA9IGMoDQogICAgImltbWVkaWF0ZV91c2Vfb2ZfZm9yY2VfaW5jaWRlbnRzIiwNCiAgICAiY2FsY3VsYXRlZF91c2Vfb2ZfZm9yY2VfaW5jaWRlbnRzIiwNCiAgICAidXNlc19vZl9mb3JjZV93aXRoX2NoZW1pY2FsX2FnZW50cyIsDQogICAgImluY2lkZW50c193aGVyZV9ub25fbGV0aGFsX3dlYXBvbnNfd2VyZV91c2VkIiwNCiAgICAibnVtYmVyX29mX3RpbWVzXzRfNV9wb2ludF9yZXN0cmFpbnRzX3dlcmVfdXNlZCIsDQogICAgInVzZV9vZl9mb3JjZV93aXRoX3NlcmlvdXNfaW5qdXJ5IiwNCiAgICAic3RyaXBfc2VhcmNoZXMiLA0KICAgICJ0b3RhbF91c2Vfb2ZfZm9yY2UiDQogICkpKQ0KYGBgDQoNCmBgYHtyfQ0KZGZfZm9yY2UgJT4lIA0KICBncm91cF9ieSh1c2Vfb2ZfZm9yY2VfdHlwZSkgJT4lIA0KICBzdW1tYXJpc2UoYFRvdGFsIFVzZSBvZiBGb3JjZSBieSBUeXBlYCA9IHN1bSh1c2Vfb2ZfZm9yY2VfY291bnQpKSAlPiUgDQogIHVuZ3JvdXAoKSAlPiUgDQogIGthYmxlKGNhcHRpb24gPSAiVG90YWwgVXNlIG9mIEZvcmNlIGJ5IFR5cGUiLA0KICAgICAgICBjb2wubmFtZXMgPSBjKCJVc2Ugb2YgRm9yY2UgVHlwZSIsICJUb3RhbCBVc2Ugb2YgRm9yY2UgVHlwZSIpKSAlPiUgDQogIGthYmxlX3N0eWxpbmcoYygiaG92ZXIiLCAic3RyaXBlZCIsICJjb25kZW5zZWQiLCAicmVzcG9uc2l2ZSIpKQ0KDQoNCmRmX2ZvcmNlICU+JSANCiAgZ3JvdXBfYnkoZmFjaWxpdHkpICU+JSANCiAgc3VtbWFyaXNlKHRvdGFsX3VzZV9vZl9mb3JjZSA9IHN1bSh1c2Vfb2ZfZm9yY2VfY291bnQpKSAlPiUgDQogIGFycmFuZ2UoZGVzYyh0b3RhbF91c2Vfb2ZfZm9yY2UpKSAlPiUgDQogIHVuZ3JvdXAoKSAlPiUgDQogIGthYmxlKGNhcHRpb24gPSAiVG90YWwgVXNlIG9mIEZvcmNlIGJ5IEZhY2lsaXR5IiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiRmFjaWxpdHkiLCAiVG90YWwgVXNlIG9mIEZvcmNlIGJ5IEZhY2lsaXR5IikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCiMjIEZhY2V0IFBsb3Qgb2YgVXNlIG9mIEZvcmNlIGJ5IEZhY2lsaXR5DQoNCmBgYHtyIHVzZS1mb3JjZS1mYWNldCwgZmlnLmhlaWdodD00MH0NCiMgR2VuZXJhdGluZyBhIGxpbmV0eXBlIHZlY3RvciBmb3IgdXNlIGluIHRoZSBwbG90DQpwbG90X2xpbmVzIDwtIGMoDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAiZG90dGVkIg0KICAgICkNCg0KIyBVc2UgQ29sb3IgQnJld2VyIHRvIHNldCBjb2xvcnMgYW5kIG1vZGlmeQ0KIyB0aGUgbGFzdCBjb2xvciB0byBiZSBibGFjayBmb3IgdG90YWxzLg0KcGxvdF9jb2xvcnMgPC0gYnJld2VyLnBhbCg4LCAiUGFpcmVkIikNCnBsb3RfY29sb3JzWzhdIDwtICIjMDAwMDAwIg0KDQojIENyZWF0ZSBwbG90IGxhYmVscw0KcGxvdF9sYWJlbHMgPC0gYygNCiAgICAiSW1tZWRpYXRlIFVzZSBvZiBGb3JjZSBJbmNpZGVudHMiLA0KICAgICJDYWxjdWxhdGVkIFVzZSBvZiBGb3JjZSBJbmNpZGVudHMiLA0KICAgICJVc2VzIG9mIEZvcmNlIHdpdGggQ2hlbWljYWwgQWdlbnRzIiwNCiAgICAiSW5jaWRlbnRzIFdoZXJlIE5vbi1MZXRoYWwgV2VhcG9ucyBXZXJlIFVzZWQiLA0KICAgICJUaW1lcyA0LzUgUG9pbnQgUmVzdHJhaW50cyBVc2VkIiwNCiAgICAiVXNlIG9mIEZvcmNlIFdpdGggU2VyaW91cyBJbmp1cnkiLA0KICAgICJTdHJpcCBTZWFyY2hlcyIsDQogICAgIlRvdGFsIERpc2NpcGxpbmFyeSIpDQoNCmRmX2ZvcmNlICU+JSANCiAgDQogICMgQ2FsbGluZyB0aGUgcGxvdCBhbmQgZm9ybWF0dGluZw0KICBnZ3Bsb3QoYWVzKHg9ZGF0ZSwgeSA9IHVzZV9vZl9mb3JjZV9jb3VudCwgbGluZXR5cGU9dXNlX29mX2ZvcmNlX3R5cGUpKSsNCiAgZ2VvbV9saW5lKGFlcyhjb2xvciA9IHVzZV9vZl9mb3JjZV90eXBlKSwgc2l6ZSA9IC42NSkgKw0KICANCiAgIyBzZXR0aW5nIHRoZSBsaW5ldHlwZQ0KICBzY2FsZV9saW5ldHlwZV9tYW51YWwoDQogICAgdmFsdWVzID0gcGxvdF9saW5lcywNCiAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICBuYW1lID0gIlVzZSBvZiBGb3JjZSBUeXBlOiIsDQogICAgZ3VpZGUgPSBndWlkZV9sZWdlbmQobnJvdyA9IDgpDQogICAgKSsNCiAgDQogICMgU2V0dGluZyB0aGUgY29sb3INCiAgc2NhbGVfY29sb3JfbWFudWFsKA0KICB2YWx1ZXMgPSBwbG90X2NvbG9ycywNCiAgbGFiZWxzID0gcGxvdF9sYWJlbHMsDQogIG5hbWUgPSAiVXNlIG9mIEZvcmNlIFR5cGU6IiwNCiAgKSsNCg0KICBsYWJzKHRpdGxlID0gIkRpc2NpcGxpbmFyeSIpKw0KICB5bGFiKCJOdW1iZXIgb2YgRGlzY2lwbGluYXJ5IEluZnJhY3Rpb25zIikrDQogIHhsYWIoIkRhdGUiKSsNCiAgdGhlbWUoDQogICAgc3RyaXAudGV4dCA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgbGVnZW5kLnBvc2l0aW9uID0gImJvdHRvbSINCiAgICApKw0KDQogICAgIyBTZXQgdGhlIGxlZ2VuZCB0byBtdWx0aXBsZSByb3dzDQogIGd1aWRlcyhjb2wgPSBndWlkZV9sZWdlbmQobnJvdyA9OCkpKw0KICANCiAgIyBXcmFwDQogIGZhY2V0X3dyYXAofiBmYWNpbGl0eSwgbmNvbD0zKQ0KYGBgDQoNCiMgU2V4dWFsIEFidXNlIGFuZCBBc3NhdWx0DQoNCiMjIEFsbGVnYXRpb25zDQoNCiMjIyBTdW1tYXJ5IFRhYmxlcw0KDQpgYGB7cn0NCmRmX3NleF9hbGxlZyA8LSBkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLA0KICAgICAgIHNleHVhbF9hYnVzZV9hbGxlZ2F0aW9uc19kZXRhaW5lZV9vbl9kZXRhaW5lZToNCiAgICAgICBzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXJfMjkNCiAgICAgICApICU+JSANCiAgDQogICMgTmVlZCB0aGUgcm93d2lzZSBmdW5jdGlvbiB0byBjb21wdXRlIGEgcm93LWF0LWEtdGltZQ0KICAjIGluIHRoZSBmb2xsb3dpbmcgbXV0YXRlIGZ1bmN0aW9uDQogIHJvd3dpc2UoaWQpICU+JSANCiAgDQogICMgQ3JlYXRlIGEgbmV3IHRvdGFsIGNvbHVtbg0KICBtdXRhdGUodG90YWxfc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zID0gc3VtKGNfYWNyb3NzKA0KICAgICAgIHNleHVhbF9hYnVzZV9hbGxlZ2F0aW9uc19kZXRhaW5lZV9vbl9kZXRhaW5lZToNCiAgICAgICBzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXJfMjkNCiAgKSkpICU+JSANCg0KICAjIENhbGwgYSByYW5nZSBvZiB0YWJsZSBjb2x1bW5zIGFuZCBwaXZvdCBsb25nDQogIHBpdm90X2xvbmdlciguLA0KICAgICAgICAgICAgICAgY29scz0gIHNleHVhbF9hYnVzZV9hbGxlZ2F0aW9uc19kZXRhaW5lZV9vbl9kZXRhaW5lZTp0b3RhbF9zZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnMsDQogICAgICAgICAgICAgICBuYW1lc190byA9ICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfdHlwZSIsDQogICAgICAgICAgICAgICB2YWx1ZXNfdG8gPSAic2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQQ0KICBkcm9wX25hKCkgJT4lIA0KICANCiAgIyBFeHBsaWNpdGx5IGRlZmluZSBmYWN0b3IgbGV2ZWxzDQogIG11dGF0ZShzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfdHlwZSA9IGZhY3RvcihzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfdHlwZSwgbGV2ZWxzID0gYygNCiAgICAic2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2RldGFpbmVlX29uX2RldGFpbmVlIiwNCiAgICAic2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2lubWF0ZV9vbl9kZXRhaW5lZSIsDQogICAgInNleHVhbF9hYnVzZV9hbGxlZ2F0aW9uc19kZXRhaW5lZV9vbl9pbm1hdGUiLA0KICAgICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXIiLA0KICAgICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXJfMjkiLA0KICAgICJ0b3RhbF9zZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnMiDQogICkpKQ0KYGBgDQoNCmBgYHtyfQ0KZGZfc2V4X2FsbGVnICU+JSANCiAgZ3JvdXBfYnkoc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX3R5cGUpICU+JSANCiAgc3VtbWFyaXNlKGBTZXh1YWwgQWJ1c2UgYW5kIEFzc2F1bHQgQWxsZWdhdGlvbnMgYnkgVHlwZWAgPSBzdW0oc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2NvdW50KSkgJT4lIA0KICB1bmdyb3VwKCkgJT4lIA0KICBrYWJsZShjYXB0aW9uID0gIlRvdGFsIFNleHVhbCBBYnVzZSBhbmQgQXNzYXVsdCBBbGxlZ2F0aW9ucyBieSBUeXBlIiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiQWxsZWdhdGlvbiBUeXBlIiwgIlRvdGFsIEFsbGVnYXRpb24gVHlwZSIpKSAlPiUgDQogIGthYmxlX3N0eWxpbmcoYygiaG92ZXIiLCAic3RyaXBlZCIsICJjb25kZW5zZWQiLCAicmVzcG9uc2l2ZSIpKQ0KDQoNCmRmX3NleF9hbGxlZyAlPiUgDQogIGdyb3VwX2J5KGZhY2lsaXR5KSAlPiUgDQogIHN1bW1hcmlzZSh0b3RhbF9zZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnMgPSBzdW0oc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2NvdW50KSkgJT4lIA0KICBhcnJhbmdlKGRlc2ModG90YWxfc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zKSkgJT4lIA0KICB1bmdyb3VwKCkgJT4lIA0KICBrYWJsZShjYXB0aW9uID0gIlRvdGFsIFNleHVhbCBBYnVzZSBhbmQgQXNzYXVsdCBBbGxlZ2F0aW9ucyBieSBGYWNpbGl0eSIsDQogICAgICAgIGNvbC5uYW1lcyA9IGMoIkZhY2lsaXR5IiwgIlRvdGFsIEFsbGVnYXRpb25zIGJ5IEZhY2lsaXR5IikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCiMjIyBGYWNldCBQbG90IG9mIFNleHVhbCBBYnVzZSBhbmQgQXNzYXVsdCBBbGxlZ2F0aW9ucyBieSBGYWNpbGl0eQ0KDQpgYGB7ciBzZXh1YWwtYWJ1c2UtYWxsZWdhdGlvbi1mYWNldCwgZmlnLmhlaWdodD00MH0NCiMgR2VuZXJhdGluZyBhIGxpbmV0eXBlIHZlY3RvciBmb3IgdXNlIGluIHRoZSBwbG90DQpwbG90X2xpbmVzIDwtIGMoDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJkb3R0ZWQiDQogICAgKQ0KDQojIFVzZSBDb2xvciBCcmV3ZXIgdG8gc2V0IGNvbG9ycyBhbmQgbW9kaWZ5DQojIHRoZSBsYXN0IGNvbG9yIHRvIGJlIGJsYWNrIGZvciB0b3RhbHMuDQpwbG90X2NvbG9ycyA8LSBicmV3ZXIucGFsKDYsICJQYWlyZWQiKQ0KcGxvdF9jb2xvcnNbNl0gPC0gIiMwMDAwMDAiDQoNCiMgQ3JlYXRlIHBsb3QgbGFiZWxzDQpwbG90X2xhYmVscyA8LSBjKA0KICAgICJTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbnMgLSBEZXRhaW5lZSBvbiBEZXRhaW5lZSIsDQogICAgIlNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyAtIElubWF0ZSBvbiBEZXRhaW5lZSIsDQogICAgIlNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyAtIERldGFpbmVlIG9uIElubWF0ZSIsDQogICAgIlNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyAtIFN0YWZmL0NvbnRyYWN0b3IvVm9sdW50ZWVyIG9uIERldGFpbmVlIiwNCiAgICAiTnVtYmVyIG9mIFNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyAtIERldGFpbmVlIG9uIFN0YWZmL0NvbnRyYWN0b3IvVm9sdW50ZWVyIiwNCiAgICAiVG90YWwgU2V4dWFsIEFidXNlIEFsbGVnYXRpb25zIikNCg0KZGZfc2V4X2FsbGVnICU+JSANCiAgIyBDYWxsaW5nIHRoZSBwbG90IGFuZCBmb3JtYXR0aW5nDQogIGdncGxvdChhZXMoeD1kYXRlLCB5ID0gc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2NvdW50LCBsaW5ldHlwZT1zZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfdHlwZSkpKw0KICBnZW9tX2xpbmUoYWVzKGNvbG9yID0gc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX3R5cGUpLHNpemU9LjY1KSArDQogIA0KICAjIFNldCB0aGUgbGluZXR5cGUNCiAgc2NhbGVfbGluZXR5cGVfbWFudWFsKA0KICAgIHZhbHVlcyA9IHBsb3RfbGluZXMsDQogICAgbGFiZWxzID0gcGxvdF9sYWJlbHMsDQogICAgbmFtZSA9ICJTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbiBUeXBlOiIsDQogICAgZ3VpZGUgPSBndWlkZV9sZWdlbmQobnJvdyA9IDYpDQogICAgKSsNCiAgDQogICMgU2V0IHRoZSBjb2xvcg0KICBzY2FsZV9jb2xvcl9tYW51YWwodmFsdWVzID0gcGxvdF9jb2xvcnMsDQogICAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAiU2V4dWFsIEFidXNlIEFsbGVnYXRpb24gVHlwZToiKSsNCg0KICBsYWJzKHRpdGxlID0gIlNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyIpKw0KICB5bGFiKCJOdW1iZXIgb2YgQWxsZWdhdGlvbnMiKSsNCiAgeGxhYigiRGF0ZSIpKw0KICB0aGVtZSgNCiAgICBzdHJpcC50ZXh0ID0gZWxlbWVudF90ZXh0KHNpemUgPSA4KSwNCiAgICBsZWdlbmQucG9zaXRpb24gPSAiYm90dG9tIg0KICAgICkrDQoNCiAgICAjIFNldCB0aGUgbGVnZW5kIHRvIG11bHRpcGxlIHJvd3MNCiAgZ3VpZGVzKGNvbCA9IGd1aWRlX2xlZ2VuZChucm93ID04KSkrDQogIA0KICAjIFdyYXANCiAgZmFjZXRfd3JhcCh+IGZhY2lsaXR5LCBuY29sPTMpDQpgYGANCg0KIyMgU3Vic3RhbnRpYXRlZCBBbGxlZ2F0aW9ucw0KDQojIyMgU3VtbWFyeSBUYWJsZXMNCg0KYGBge3J9DQpkZl9zZXhfYWxsZWdfc3ViIDwtIGRmXzMyNF9pbmMgJT4lDQogIA0KICAjIFN1YnNldCB0aGUgZGYgdG8gb25seSB0aGUgdXNlZCBjb2xzDQogIHNlbGVjdChpZCwgZmFjaWxpdHksIGRhdGUsDQogICAgICAgc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2RldGFpbmVlX29uX2RldGFpbmVlXzI6DQogICAgICAgc2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2RldGFpbmVlX29uX3N0YWZmX2NvbnRyYWN0b3Jfdm9sdW50ZWVyXzM0DQogICAgICAgKSAlPiUgDQogIA0KICAjIE5lZWQgdGhlIHJvd3dpc2UgZnVuY3Rpb24gdG8gY29tcHV0ZSBhIHJvdy1hdC1hLXRpbWUNCiAgIyBpbiB0aGUgZm9sbG93aW5nIG11dGF0ZSBmdW5jdGlvbg0KICByb3d3aXNlKGlkKSAlPiUgDQogIA0KICAjIENyZWF0ZSBhIG5ldyB0b3RhbCBjb2x1bW4NCiAgbXV0YXRlKHRvdGFsX3NleHVhbF9hYnVzZV9hbGxlZ2F0aW9ucyA9IHN1bShjX2Fjcm9zcygNCiAgICAgICBzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fZGV0YWluZWVfMjoNCiAgICAgICBzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXJfMzQNCiAgKSkpICU+JSANCg0KICAjIENhbGwgYSByYW5nZSBvZiB0YWJsZSBjb2x1bW5zIGFuZCBwaXZvdCBsb25nDQogIHBpdm90X2xvbmdlciguLA0KICAgICAgICAgICAgICAgY29scz0gIHNleHVhbF9hYnVzZV9hbGxlZ2F0aW9uc19kZXRhaW5lZV9vbl9kZXRhaW5lZV8yOnRvdGFsX3NleHVhbF9hYnVzZV9hbGxlZ2F0aW9ucywNCiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gInNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX3R5cGUiLA0KICAgICAgICAgICAgICAgdmFsdWVzX3RvID0gInNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQSB2YWx1ZXMNCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBzZXQgZmFjdG9yIGxldmVscw0KICBtdXRhdGUoc2V4dWFsX2FidXNlX3N1YnN0YW50aWF0ZWRfdHlwZT0gZmFjdG9yKHNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX3R5cGUsIGxldmVscyA9YygNCiAgICAic2V4dWFsX2FidXNlX2FsbGVnYXRpb25zX2RldGFpbmVlX29uX2RldGFpbmVlXzIiLA0KICAgICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfaW5tYXRlX29uX2RldGFpbmVlXzIiLA0KICAgICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25faW5tYXRlXzIiLA0KICAgICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXJfb25fZGV0YWluZWUiLA0KICAgICJzZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnNfZGV0YWluZWVfb25fc3RhZmZfY29udHJhY3Rvcl92b2x1bnRlZXJfMzQiLA0KICAgICJ0b3RhbF9zZXh1YWxfYWJ1c2VfYWxsZWdhdGlvbnMiDQogICkpKQ0KYGBgDQoNCmBgYHtyfQ0KZGZfc2V4X2FsbGVnX3N1YiAlPiUgDQogIGdyb3VwX2J5KHNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX3R5cGUpICU+JSANCiAgc3VtbWFyaXNlKGBTZXh1YWwgQWJ1c2UgYW5kIEFzc2F1bHQgQWxsZWdhdGlvbnMgU3Vic3RhbnRpYXRlZCBieSBUeXBlYCA9IHN1bShzZXh1YWxfYWJ1c2Vfc3Vic3RhbnRpYXRlZF9jb3VudCkpICU+JSANCiAgdW5ncm91cCgpICU+JSANCiAga2FibGUoY2FwdGlvbiA9ICJUb3RhbCBTdWJzdGFudGlhdGVkIFNleHVhbCBBYnVzZSBhbmQgQXNzYXVsdCBBbGxlZ2F0aW9ucyBieSBUeXBlIiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiU3Vic3RhbnRpYXRlZCBBbGxlZ2F0aW9uIFR5cGUiLCAiVG90YWwgU3Vic3RhbnRpYXRlZCBBbGxlZ2F0aW9uIFR5cGUiKSkgJT4lIA0KICBrYWJsZV9zdHlsaW5nKGMoImhvdmVyIiwgInN0cmlwZWQiLCAiY29uZGVuc2VkIiwgInJlc3BvbnNpdmUiKSkNCg0KDQpkZl9zZXhfYWxsZWdfc3ViICU+JSANCiAgZ3JvdXBfYnkoZmFjaWxpdHkpICU+JSANCiAgc3VtbWFyaXNlKHRvdGFsX3NleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkID0gc3VtKHNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX2NvdW50KSkgJT4lIA0KICBhcnJhbmdlKGRlc2ModG90YWxfc2V4dWFsX2FidXNlX3N1YnN0YW50aWF0ZWQpKSAlPiUgDQogIHVuZ3JvdXAoKSAlPiUgDQogIGthYmxlKGNhcHRpb24gPSAiVG90YWwgU3Vic3RhbnRpYXRlZCBTZXh1YWwgQWJ1c2UgYW5kIEFzc2F1bHQgQWxsZWdhdGlvbnMgYnkgRmFjaWxpdHkiLA0KICAgICAgICBjb2wubmFtZXMgPSBjKCJGYWNpbGl0eSIsICJUb3RhbCBTdWJzdGFudGlhdGVkIEFsbGVnYXRpb25zIGJ5IEZhY2lsaXR5IikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCiMjIyBGYWNldCBQbG90IG9mIFN1YnN0YW50aWF0ZWQgU2V4dWFsIEFidXNlIGFuZCBBc3NhdWx0IEFsbGVnYXRpb25zDQoNCmBgYHtyIHNleHVhbC1hYnVzZS1zdWJzdGFudGlhdGVkLWZhY2V0LCBmaWcuaGVpZ2h0PTQwfQ0KIyBHZW5lcmF0aW5nIGEgbGluZXR5cGUgdmVjdG9yIGZvciB1c2UgaW4gdGhlIHBsb3QNCnBsb3RfbGluZXMgPC0gYygNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgImRvdHRlZCINCiAgICApDQoNCiMgVXNlIENvbG9yIEJyZXdlciB0byBzZXQgY29sb3JzIGFuZCBtb2RpZnkNCiMgdGhlIGxhc3QgY29sb3IgdG8gYmUgYmxhY2sgZm9yIHRvdGFscy4NCnBsb3RfY29sb3JzIDwtIGJyZXdlci5wYWwoNiwgIlBhaXJlZCIpDQpwbG90X2NvbG9yc1s2XSA8LSAiIzAwMDAwMCINCg0KIyBDcmVhdGUgdGhlIGxhYmVscw0KcGxvdF9sYWJlbHMgPC0gYygNCiAgICAiU2V4dWFsIEFidXNlIEFsbGVnYXRpb25zIC0gRGV0YWluZWUgb24gRGV0YWluZWUiLA0KICAgICJTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbnMgLSBJbm1hdGUgb24gRGV0YWluZWUiLA0KICAgICJTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbnMgLSBEZXRhaW5lZSBvbiBJbm1hdGUiLA0KICAgICJTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbnMgLSBTdGFmZi9Db250cmFjdG9yL1ZvbHVudGVlciBvbiBEZXRhaW5lZSIsDQogICAgIk51bWJlciBvZiBTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbnMgLSBEZXRhaW5lZSBvbiBTdGFmZi9Db250cmFjdG9yL1ZvbHVudGVlciIsDQogICAgIlRvdGFsIFNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyIpDQoNCmRmX3NleF9hbGxlZ19zdWIgJT4lIA0KICANCiAgIyBDYWxsaW5nIHRoZSBwbG90IGFuZCBmb3JtYXR0aW5nDQogIGdncGxvdChhZXMoeD1kYXRlLCB5ID0gc2V4dWFsX2FidXNlX3N1YnN0YW50aWF0ZWRfY291bnQsIGxpbmV0eXBlPXNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX3R5cGUpKSsNCiAgZ2VvbV9saW5lKGFlcyhjb2xvciA9IHNleHVhbF9hYnVzZV9zdWJzdGFudGlhdGVkX3R5cGUpLHNpemU9LjY1KSArDQogIA0KICAjIFNldCB0aGUgbGluZXR5cGUNCiAgc2NhbGVfbGluZXR5cGVfbWFudWFsKA0KICAgIHZhbHVlcyA9IHBsb3RfbGluZXMsDQogICAgbGFiZWxzID0gcGxvdF9sYWJlbHMsDQogICAgbmFtZSA9ICJTZXh1YWwgQWJ1c2UgQWxsZWdhdGlvbiBUeXBlOiIsDQogICAgZ3VpZGUgPSBndWlkZV9sZWdlbmQobnJvdyA9IDYpDQogICAgKSsNCiAgDQogICMgU2V0IHRoZSBjb2xvcg0KICBzY2FsZV9jb2xvcl9tYW51YWwodmFsdWVzID0gcGxvdF9jb2xvcnMsDQogICAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAiU2V4dWFsIEFidXNlIEFsbGVnYXRpb24gVHlwZToiKSsNCg0KICBsYWJzKHRpdGxlID0gIlNleHVhbCBBYnVzZSBBbGxlZ2F0aW9ucyBTdWJzdGFudGlhdGVkIikrDQogIHlsYWIoIk51bWJlciBvZiBBbGxlZ2F0aW9ucyIpKw0KICB4bGFiKCJEYXRlIikrDQogIHRoZW1lKA0KICAgIHN0cmlwLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDgpLA0KICAgIGxlZ2VuZC5wb3NpdGlvbiA9ICJib3R0b20iDQogICAgKSsNCg0KICAjIFNldCB0aGUgbGVnZW5kIHRvIG11bHRpcGxlIHJvd3MNCiAgZ3VpZGVzKGNvbCA9IGd1aWRlX2xlZ2VuZChucm93ID04KSkrDQogIA0KICAjIFdyYXANCiAgZmFjZXRfd3JhcCh+IGZhY2lsaXR5LCBuY29sPTMpDQpgYGANCg0KIyBNZWRpY2FsDQoNCiMjIE1lZGljYWwgT2JzZXJ2YXRpb24NCg0KYGBge3IgbWVkaWNhbC1tZW50YWwtb2JzZXJ2YXRpb24tZmFjZXQsIGZpZy5oZWlnaHQ9NDB9DQojIEdlbmVyYXRpbmcgYSBsaW5ldHlwZSB2ZWN0b3IgZm9yIHVzZSBpbiB0aGUgcGxvdA0KcGxvdF9saW5lcyA8LSBjKA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAiZG90dGVkIg0KICAgICkNCg0KIyBVc2UgQ29sb3IgQnJld2VyIHRvIHNldCBjb2xvcnMNCnBsb3RfY29sb3JzIDwtIGJyZXdlci5wYWwoMywgIlBhaXJlZCIpDQpwbG90X2NvbG9yc1szXSA8LSAiIzAwMDAwMCINCg0KIyBDcmVhdGUgcGxvdCBsYWJlbHMNCnBsb3RfbGFiZWxzIDwtIGMoDQogICAgIkRldGFpbmVlcyBpbiBNZWRpY2FsIE9ic2VydmF0aW9uIiwNCiAgICAiRGV0YWluZWVzIGluIE1lbnRhbCBIZWFsdGggT2JzZXJ2YXRpb24iLA0KICAgICJUb3RhbCBJbmRpdmlkdWFscyBpbiBNZWRpY2FsIG9yIE1lbnRhbCBIZWFsdGggT2JzZXJ2YXRpb24iKQ0KDQpkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLA0KICAgICAgIGRldGFpbmVlc19pbl9tZWRpY2FsX29ic2VydmF0aW9uOg0KICAgICAgIGRldGFpbmVlc19pbl9tZW50YWxfaGVhbHRoX29ic2VydmF0aW9uDQogICAgICAgKSAlPiUgDQogIA0KICAjIE5lZWQgdGhlIHJvd3dpc2UgZnVuY3Rpb24gdG8gY29tcHV0ZSBhIHJvdy1hdC1hLXRpbWUNCiAgIyBpbiB0aGUgZm9sbG93aW5nIG11dGF0ZSBmdW5jdGlvbg0KICByb3d3aXNlKGlkKSAlPiUgDQogIA0KICAjIENyZWF0ZSBhIG5ldyB0b3RhbCBjb2x1bW4NCiAgbXV0YXRlKHRvdGFsX21lbnRhbF9tZWRpY2FsX29ic2VydmF0aW9uID0gc3VtKGNfYWNyb3NzKA0KICAgICAgIGRldGFpbmVlc19pbl9tZWRpY2FsX29ic2VydmF0aW9uOg0KICAgICAgIGRldGFpbmVlc19pbl9tZW50YWxfaGVhbHRoX29ic2VydmF0aW9uDQogICkpKSAlPiUgDQoNCiAgIyBDYWxsIGEgcmFuZ2Ugb2YgdGFibGUgY29sdW1ucyBhbmQgcGl2b3QgbG9uZw0KICBwaXZvdF9sb25nZXIoLiwNCiAgICAgICAgICAgICAgIGNvbHM9ICBkZXRhaW5lZXNfaW5fbWVkaWNhbF9vYnNlcnZhdGlvbjp0b3RhbF9tZW50YWxfbWVkaWNhbF9vYnNlcnZhdGlvbiwNCiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gIm1lZGljYWxfbWVudGFsX29ic2VydmF0aW9uX3R5cGUiLA0KICAgICAgICAgICAgICAgdmFsdWVzX3RvID0gIm1lZGljYWxfbWVudGFsX29ic2VydmF0aW9uX2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQSB2YWx1ZXMNCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBzZXQgZmFjdG9yIGxldmVscw0KICBtdXRhdGUobWVkaWNhbF9tZW50YWxfb2JzZXJ2YXRpb25fdHlwZSA9IGZhY3RvcihtZWRpY2FsX21lbnRhbF9vYnNlcnZhdGlvbl90eXBlLCBsZXZlbHMgPSBjKA0KICAgICJkZXRhaW5lZXNfaW5fbWVkaWNhbF9vYnNlcnZhdGlvbiIsDQogICAgImRldGFpbmVlc19pbl9tZW50YWxfaGVhbHRoX29ic2VydmF0aW9uIiwNCiAgICAidG90YWxfbWVudGFsX21lZGljYWxfb2JzZXJ2YXRpb24iDQogICkpKSAlPiUgDQogIA0KICAjIENhbGxpbmcgdGhlIHBsb3QgYW5kIGZvcm1hdHRpbmcNCiAgZ2dwbG90KGFlcyh4PWRhdGUsIHkgPSBtZWRpY2FsX21lbnRhbF9vYnNlcnZhdGlvbl9jb3VudCwgbGluZXR5cGU9bWVkaWNhbF9tZW50YWxfb2JzZXJ2YXRpb25fdHlwZSkpKw0KICBnZW9tX2xpbmUoYWVzKGNvbG9yID0gbWVkaWNhbF9tZW50YWxfb2JzZXJ2YXRpb25fdHlwZSksc2l6ZT0uNjUpICsNCiAgDQogICMgU2V0IHRoZSBsaW5ldHlwZQ0KICBzY2FsZV9saW5ldHlwZV9tYW51YWwoDQogICAgdmFsdWVzID0gcGxvdF9saW5lcywNCiAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICBuYW1lID0gIk9ic2VydmF0aW9uIFR5cGU6IiwNCiAgICBndWlkZSA9IGd1aWRlX2xlZ2VuZChucm93ID0gMykNCiAgICApKw0KICANCiAgIyBTZXQgdGhlIGNvbG9yDQogIHNjYWxlX2NvbG9yX21hbnVhbCh2YWx1ZXMgPSBwbG90X2NvbG9ycywNCiAgICAgICAgICAgICAgICAgICAgIGxhYmVscyA9IHBsb3RfbGFiZWxzLA0KICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJPYnNlcnZhdGlvbiBUeXBlOiIsKSsNCg0KICBsYWJzKHRpdGxlID0gIk1lZGljYWwgYW5kIE1lbnRhbCBIZWFsdGggT2JzZXJ2YXRpb24iKSsNCiAgeWxhYigiTnVtYmVyIG9mIEluZGl2aWR1YWxzIGluIE9ic2VydmF0aW9uIikrDQogIHhsYWIoIkRhdGUiKSsNCiAgdGhlbWUoDQogICAgc3RyaXAudGV4dCA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgbGVnZW5kLnBvc2l0aW9uID0gImJvdHRvbSINCiAgICApKw0KDQogICMgU2V0IHRoZSBsZWdlbmQgdG8gbXVsdGlwbGUgcm93cw0KICBndWlkZXMoY29sID0gZ3VpZGVfbGVnZW5kKG5yb3cgPTMpKSsNCiAgDQogICMgV3JhcA0KICBmYWNldF93cmFwKH4gZmFjaWxpdHksIG5jb2w9MykNCiAgDQpgYGANCg0KIyMgSW5mZWN0aW9ucyBEaXNlYXNlDQoNCmBgYHtyIGluZmVjdGlvdXMtZGlzZWFzZS1mYWNldCwgZmlnLmhlaWdodD00MH0NCiMgR2VuZXJhdGluZyBhIGxpbmV0eXBlIHZlY3RvciBmb3IgdXNlIGluIHRoZSBwbG90DQpwbG90X2xpbmVzIDwtIGMoDQogICAgInNvbGlkIiwNCiAgICAic29saWQiDQogICAgKQ0KDQojIFVzZSBDb2xvciBCcmV3ZXIgdG8gc2V0IGNvbG9ycw0KcGxvdF9jb2xvcnMgPC0gYnJld2VyLnBhbCgyLCAiUGFpcmVkIikNCg0KIyBDcmVhdGUgcGxvdCBsYWJlbHMNCnBsb3RfbGFiZWxzIDwtIGMoDQogICAgIkluZmVjdGlvdXMgRGlzZWFzZSBSZXBvcnRlZCIsDQogICAgIkluZmVjdGlvdXMgRGlzZWFzZSBDb25maXJtZWQiKQ0KDQpkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLA0KICAgICAgIGluZmVjdGlvdXNfZGlzZWFzZV9yZXBvcnRlZDoNCiAgICAgICBpbmZlY3Rpb25zX2Rpc2Vhc2VfY29uZmlybWVkDQogICAgICAgKSAlPiUgDQogIA0KICAjIE5lZWQgdGhlIHJvd3dpc2UgZnVuY3Rpb24gdG8gY29tcHV0ZSBhIHJvdy1hdC1hLXRpbWUNCiAgIyBpbiB0aGUgZm9sbG93aW5nIG11dGF0ZSBmdW5jdGlvbg0KICByb3d3aXNlKGlkKSAlPiUgDQogIA0KICAjICMgQ3JlYXRlIGEgbmV3IHRvdGFsIGNvbHVtbg0KICAjICMgSW4gdGhpcyBjYXNlIG5vdCB1c2VkDQogICMgbXV0YXRlKHRvdGFsX2luZmVjdGlvbnNfZGlzZWFzZV9yZXBvcnRfY29uZmlybWVkID0gc3VtKGNfYWNyb3NzKA0KICAjICAgICAgaW5mZWN0aW91c19kaXNlYXNlX3JlcG9ydGVkOg0KICAjICAgICAgaW5mZWN0aW9uc19kaXNlYXNlX2NvbmZpcm1lZA0KICAjICkpKSAlPiUgDQoNCiAgIyBDYWxsIGEgcmFuZ2Ugb2YgdGFibGUgY29sdW1ucyBhbmQgcGl2b3QgbG9uZw0KICBwaXZvdF9sb25nZXIoLiwNCiAgICAgICAgICAgICAgIGNvbHM9ICBpbmZlY3Rpb3VzX2Rpc2Vhc2VfcmVwb3J0ZWQ6aW5mZWN0aW9uc19kaXNlYXNlX2NvbmZpcm1lZCwNCiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gImluZmVjdGlvdXNfZGlzZWFzZV90eXBlIiwNCiAgICAgICAgICAgICAgIHZhbHVlc190byA9ICJpbmZlY3Rpb3VzX2Rpc2Vhc2VfY291bnQiKSAlPiUNCiAgDQogICMgUmVtb3ZlIE5BIHZhbHVlcw0KICBkcm9wX25hKCkgJT4lIA0KICANCiAgIyBFeHBsaWNpdGx5IGRlZmluZSBmYWN0b3IgbGV2ZWxzDQogIG11dGF0ZShpbmZlY3Rpb3VzX2Rpc2Vhc2VfdHlwZSA9IGZhY3RvcihpbmZlY3Rpb3VzX2Rpc2Vhc2VfdHlwZSwgbGV2ZWxzID0gYygNCiAgICAiaW5mZWN0aW91c19kaXNlYXNlX3JlcG9ydGVkIiwNCiAgICAiaW5mZWN0aW9uc19kaXNlYXNlX2NvbmZpcm1lZCINCiAgKSkpICU+JSANCiAgDQogICMgQ2FsbGluZyB0aGUgcGxvdCBhbmQgZm9ybWF0dGluZw0KICBnZ3Bsb3QoYWVzKHg9ZGF0ZSwgeSA9IGluZmVjdGlvdXNfZGlzZWFzZV9jb3VudCwgbGluZXR5cGU9aW5mZWN0aW91c19kaXNlYXNlX3R5cGUpKSsNCiAgZ2VvbV9saW5lKGFlcyhjb2xvciA9IGluZmVjdGlvdXNfZGlzZWFzZV90eXBlKSxzaXplPS42NSkgKw0KICANCiAgIyBTZXQgdGhlIGxpbmV0eXBlDQogIHNjYWxlX2xpbmV0eXBlX21hbnVhbCgNCiAgICB2YWx1ZXMgPSBwbG90X2xpbmVzLA0KICAgIGxhYmVscyA9IHBsb3RfbGFiZWxzLA0KICAgIG5hbWUgPSAiQ2F0ZWdvcnk6IiwNCiAgICBndWlkZSA9IGd1aWRlX2xlZ2VuZChucm93ID0gMikNCiAgICApKw0KICANCiAgIyBTZXQgdGhlIGNvbG9yDQogIHNjYWxlX2NvbG9yX21hbnVhbCh2YWx1ZXMgPSBwbG90X2NvbG9ycywNCiAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICBuYW1lID0gIkNhdGVnb3J5OiIpKw0KDQogIGxhYnModGl0bGUgPSAiSW5mZWN0aW91cyBEaXNlYXNlcyBSZXBvcnRlZCBhbmQgQ29uZmlybWVkIikrDQogIHlsYWIoIkNvdW50IikrDQogIHhsYWIoIkRhdGUiKSsNCiAgdGhlbWUoDQogICAgc3RyaXAudGV4dCA9IGVsZW1lbnRfdGV4dChzaXplID0gOCksDQogICAgbGVnZW5kLnBvc2l0aW9uID0gImJvdHRvbSINCiAgICApKw0KDQogICMgU2V0IHRoZSBsZWdlbmQgdG8gbXVsdGlwbGUgcm93cw0KICBndWlkZXMoY29sID0gZ3VpZGVfbGVnZW5kKG5yb3cgPTMpKSsNCiAgDQogICMgV3JhcA0KICBmYWNldF93cmFwKH4gZmFjaWxpdHksIG5jb2w9MykNCiAgDQogIA0KYGBgDQoNCiMjIE1lZGljYWwgYW5kIE1lbnRhbCBIZWFsdGggUmVmZXJyYWxzDQoNCmBgYHtyIHJlZmVycmFscy1mYWNldCwgZmlnLmhlaWdodD00MH0NCiMgR2VuZXJhdGluZyBhIGxpbmV0eXBlIHZlY3RvciBmb3IgdXNlIGluIHRoZSBwbG90DQpwbG90X2xpbmVzIDwtIGMoDQogICAgInNvbGlkIiwNCiAgICAic29saWQiLA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAiZG90dGVkIg0KICAgICkNCg0KIyBVc2UgQ29sb3IgQnJld2VyIHRvIHNldCBjb2xvcnMNCnBsb3RfY29sb3JzIDwtIGJyZXdlci5wYWwoNSwgIlBhaXJlZCIpDQpwbG90X2NvbG9yc1s1XSA8LSAiIzAwMDAwMCINCg0KIyBDcmVhdGUgcGxvdCBsYWJlbHMNCnBsb3RfbGFiZWxzIDwtIGMoDQogICAgIk91dHNpZGUgTWVkaWNhbCBSZWZlcnJhbHMiLA0KICAgICJEZXRhaW5lZXMgVHJhbnNwb3J0ZWQgdG8gT2ZmLVNpdGUgSG9zcGl0YWxzIGZvciBFbWVyZ2VuY3kgUmVhc29ucyIsDQogICAgIkFkbWlzc2lvbnMgdG8gT2ZmLVNpdGUgSG9zcGl0YWxzIGZvciBNZWRpY2FsIFJlYXNvbnMiLA0KICAgICJBZG1pc3Npb25zIHRvIE9mZi1TaXRlIEhvc3BpdGFscyBmb3IgTWVudGFsIEhlYWx0aCBSZWFzb25zIiwNCiAgICAiVG90YWwgUmVmZXJyYWxzIikNCg0KDQpkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLA0KICAgICAgIG91dHNpZGVfbWVkaWNhbF9yZWZlcnJhbHM6DQogICAgICAgYWRtaXNzaW9uc190b19vZmZfc2l0ZV9ob3NwaXRhbHNfZm9yX21lbnRhbF9oZWFsdGhfcmVhc29ucw0KICAgICAgICkgJT4lIA0KICANCiAgIyBOZWVkIHRoZSByb3d3aXNlIGZ1bmN0aW9uIHRvIGNvbXB1dGUgYSByb3ctYXQtYS10aW1lDQogICMgaW4gdGhlIGZvbGxvd2luZyBtdXRhdGUgZnVuY3Rpb24NCiAgcm93d2lzZShpZCkgJT4lIA0KICANCiAgIyBDcmVhdGUgYSBuZXcgdG90YWwgY29sdW1uDQogIG11dGF0ZSh0b3RhbF9yZWZlcnJhbHMgPSBzdW0oY19hY3Jvc3MoDQogICAgICAgb3V0c2lkZV9tZWRpY2FsX3JlZmVycmFsczoNCiAgICAgICBhZG1pc3Npb25zX3RvX29mZl9zaXRlX2hvc3BpdGFsc19mb3JfbWVudGFsX2hlYWx0aF9yZWFzb25zDQogICkpKSAlPiUgDQoNCiAgIyBDYWxsIGEgcmFuZ2Ugb2YgdGFibGUgY29sdW1ucyBhbmQgcGl2b3QgbG9uZw0KICBwaXZvdF9sb25nZXIoLiwNCiAgICAgICAgICAgICAgIGNvbHM9ICBvdXRzaWRlX21lZGljYWxfcmVmZXJyYWxzOnRvdGFsX3JlZmVycmFscywNCiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gInJlZmVycmFsX3R5cGUiLA0KICAgICAgICAgICAgICAgdmFsdWVzX3RvID0gInJlZmVycmFsX2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQSB2YWx1ZXMNCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBkZWZpbmUgZmFjdG9yIGxldmVscw0KICBtdXRhdGUocmVmZXJyYWxfdHlwZT0gZmFjdG9yKHJlZmVycmFsX3R5cGUsIGxldmVscyA9IGMoDQogICAgIm91dHNpZGVfbWVkaWNhbF9yZWZlcnJhbHMiLA0KICAgICJkZXRhaW5lZXNfdHJhbnNwb3J0ZWRfdG9fb2ZmX3NpdGVfaG9zcGl0YWxzX2Zvcl9lbWVyZ2VuY3lfY2FyZSIsDQogICAgImFkbWlzc2lvbnNfdG9fb2ZmX3NpdGVfaG9zcGl0YWxzX2Zvcl9tZWRpY2FsX3JlYXNvbnMiLA0KICAgICJhZG1pc3Npb25zX3RvX29mZl9zaXRlX2hvc3BpdGFsc19mb3JfbWVudGFsX2hlYWx0aF9yZWFzb25zIiwNCiAgICAidG90YWxfcmVmZXJyYWxzIg0KICApKSkgJT4lIA0KICANCiAgDQogICMgQ2FsbGluZyB0aGUgcGxvdCBhbmQgZm9ybWF0dGluZw0KICBnZ3Bsb3QoYWVzKHg9ZGF0ZSwgeSA9IHJlZmVycmFsX2NvdW50LCBsaW5ldHlwZT1yZWZlcnJhbF90eXBlKSkrDQogIGdlb21fbGluZShhZXMoY29sb3IgPSByZWZlcnJhbF90eXBlKSxzaXplPS42NSkgKw0KICANCiAgIyBTZXQgdGhlIGxpbmV0eXBlDQogIHNjYWxlX2xpbmV0eXBlX21hbnVhbCgNCiAgICB2YWx1ZXMgPSBwbG90X2xpbmVzLA0KICAgIGxhYmVscyA9IHBsb3RfbGFiZWxzLA0KICAgIG5hbWUgPSAiUmVmZXJyYWwgVHlwZToiLA0KICAgIGd1aWRlID0gZ3VpZGVfbGVnZW5kKG5yb3cgPSA1KQ0KICAgICkrDQogIA0KICAjIFNldCB0aGUgY29sb3INCiAgc2NhbGVfY29sb3JfbWFudWFsKHZhbHVlcyA9IHBsb3RfY29sb3JzLA0KICAgIGxhYmVscyA9IHBsb3RfbGFiZWxzLA0KICAgIG5hbWUgPSAiUmVmZXJyYWwgVHlwZToiKSsNCg0KICBsYWJzKHRpdGxlID0gIk1lZGljYWwgYW5kIE1lbnRhbCBIZWFsdGggUmVmZXJyYWxzIikrDQogIHlsYWIoIk51bWJlciBvZiBSZWZlcnJhbHMiKSsNCiAgeGxhYigiRGF0ZSIpKw0KICB0aGVtZSgNCiAgICBzdHJpcC50ZXh0ID0gZWxlbWVudF90ZXh0KHNpemUgPSA4KSwNCiAgICBsZWdlbmQucG9zaXRpb24gPSAiYm90dG9tIg0KICAgICkrDQoNCiAgIyBTZXQgdGhlIGxlZ2VuZCB0byBtdWx0aXBsZSByb3dzDQogIGd1aWRlcyhjb2wgPSBndWlkZV9sZWdlbmQobnJvdyA9NSkpKw0KICANCiAgIyBXcmFwDQogIGZhY2V0X3dyYXAofiBmYWNpbGl0eSwgbmNvbD0zKQ0KYGBgDQoNCiMjIFNpY2sgQ2FsbCBSZXF1ZXN0cyBhbmQgRW5jb3VudGVycw0KDQpgYGB7cn0NCmRmX3NpY2tfY2FsbCA8LSBkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTZWxlY3QgYSBzdWJzZXQgb2YgY29sdW1ucyB0byB3b3JrIHdpdGgNCiAgc2VsZWN0KGlkLA0KICAgICAgICAgZmFjaWxpdHksDQogICAgICAgICBkYXRlLA0KICAgICAgICAgc2lja19jYWxsX3JlcXVlc3RzLA0KICAgICAgICAgc2lja19jYWxsX2VuY291bnRlcnMpICU+JSANCiAgDQogICMgTmVlZCB0aGUgcm93d2lzZSBmdW5jdGlvbiB0byBjb21wdXRlIGEgcm93LWF0LWEtdGltZQ0KICAjIGluIHRoZSBmb2xsb3dpbmcgbXV0YXRlIGZ1bmN0aW9uDQogIHJvd3dpc2UoaWQpICU+JSANCiAgDQogICMgQ3JlYXRlIG5ldyB0b3RhbCBjb2x1bW4NCiAgbXV0YXRlKHRvdGFsX3NpY2tfY2FsbCA9IHNpY2tfY2FsbF9yZXF1ZXN0cywNCiAgICAgICAgIHNpY2tfY2FsbF9lbmNvdW50ZXJzKSAlPiUgDQogIA0KICAjIFRpZHkNCiAgcGl2b3RfbG9uZ2VyKC4sDQogICAgICAgICAgICAgICBjb2xzPSBzaWNrX2NhbGxfcmVxdWVzdHM6DQogICAgICAgICBzaWNrX2NhbGxfZW5jb3VudGVycywNCiAgICAgICAgICAgICAgIG5hbWVzX3RvID0gInNpY2tfY2FsbF90eXBlIiwNCiAgICAgICAgICAgICAgIHZhbHVlc190byA9ICJzaWNrX2NhbGxfY291bnQiKSAlPiUgDQogIA0KICAjIFJlbW92ZSBOQQ0KICBkcm9wX25hKCkgJT4lIA0KICANCiAgIyBFeHBsaWNpdGx5IHNldCBmYWN0b3IgbGV2ZWxzDQogIG11dGF0ZShzaWNrX2NhbGxfdHlwZSA9IGZhY3RvcihzaWNrX2NhbGxfdHlwZSwgbGV2ZWxzID0gYygNCiAgICAic2lja19jYWxsX3JlcXVlc3RzIiwNCiAgICAic2lja19jYWxsX2VuY291bnRlcnMiLA0KICAgICJ0b3RhbF9zaWNrX2NhbGwiDQogICkpKQ0KYGBgDQoNCmBgYHtyfQ0KZGZfc2lja19jYWxsICU+JSANCiAgZ3JvdXBfYnkoc2lja19jYWxsX3R5cGUpICU+JSANCiAgc3VtbWFyaXNlKGBUb3RhbCBTaWNrIENhbGwgYnkgVHlwZWAgPSBzdW0oc2lja19jYWxsX2NvdW50KSkgJT4lIA0KICB1bmdyb3VwKCkgJT4lIA0KICBrYWJsZShjYXB0aW9uID0gIlRvdGFsIFNpY2sgQ2FsbCBieSBUeXBlIiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiVHlwZSIsICJUb3RhbCIpKSAlPiUgDQogIGthYmxlX3N0eWxpbmcoYygiaG92ZXIiLCAic3RyaXBlZCIsICJjb25kZW5zZWQiLCAicmVzcG9uc2l2ZSIpKQ0KDQpkZl9zaWNrX2NhbGwgJT4lIA0KICBncm91cF9ieShmYWNpbGl0eSkgJT4lIA0KICBzdW1tYXJpc2UodG90YWxfc2lja19jYWxsID0gc3VtKHNpY2tfY2FsbF9jb3VudCkpICU+JSANCiAgYXJyYW5nZShkZXNjKHRvdGFsX3NpY2tfY2FsbCkpICU+JSANCiAgdW5ncm91cCgpICU+JSANCiAga2FibGUoY2FwdGlvbiA9ICJUb3RhbCBTaWNrIENhbGwgUmVxdWVzdHMvRW5jb3VudGVycyBieSBGYWNpbGl0eSIsDQogICAgICAgIGNvbC5uYW1lcyA9IGMoIkZhY2lsaXR5IiwgIlRvdGFsIikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCmBgYHtyIHNpY2stY2FsbHMsIGZpZy5oZWlnaHQ9NDB9DQojIEdlbmVyYXRpbmcgYSBsaW5ldHlwZSB2ZWN0b3IgZm9yIHVzZSBpbiB0aGUgcGxvdA0KcGxvdF9saW5lcyA8LSBjKA0KICAgICJzb2xpZCIsDQogICAgInNvbGlkIiwNCiAgICAiZG90dGVkIg0KICAgICkNCg0KIyBVc2UgQ29sb3IgQnJld2VyIHRvIHNldCBjb2xvcnMNCnBsb3RfY29sb3JzIDwtIGJyZXdlci5wYWwoMywgIlBhaXJlZCIpDQpwbG90X2NvbG9yc1szXSA8LSAiIzAwMDAwMCINCg0KIyBDcmVhdGUgbGFiZWxzDQpwbG90X2xhYmVscyA8LSBjKA0KICAgICJTaWNrIENhbGwgUmVxdWVzdHMiLA0KICAgICJTaWNrIENhbGwgRW5jb3VudGVycyIsDQogICAgIlRvdGFsIFNpY2sgQ2FsbHMiKQ0KDQpkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLA0KICAgICAgIHNpY2tfY2FsbF9yZXF1ZXN0czoNCiAgICAgICBzaWNrX2NhbGxfZW5jb3VudGVycw0KICAgICAgICkgJT4lIA0KICANCiAgIyBOZWVkIHRoZSByb3d3aXNlIGZ1bmN0aW9uIHRvIGNvbXB1dGUgYSByb3ctYXQtYS10aW1lDQogICMgaW4gdGhlIGZvbGxvd2luZyBtdXRhdGUgZnVuY3Rpb24NCiAgcm93d2lzZShpZCkgJT4lIA0KICANCiAgIyBDcmVhdGUgYSBuZXcgdG90YWwgY29sdW1uDQogIG11dGF0ZSh0b3RhbF9zaWNrX2NhbGxzID0gc3VtKGNfYWNyb3NzKA0KICAgICAgIHNpY2tfY2FsbF9yZXF1ZXN0czoNCiAgICAgICBzaWNrX2NhbGxfZW5jb3VudGVycw0KICApKSkgJT4lIA0KDQogICMgQ2FsbCBhIHJhbmdlIG9mIHRhYmxlIGNvbHVtbnMgYW5kIHBpdm90IGxvbmcNCiAgcGl2b3RfbG9uZ2VyKC4sDQogICAgICAgICAgICAgICBjb2xzPSAgc2lja19jYWxsX3JlcXVlc3RzOnRvdGFsX3NpY2tfY2FsbHMsDQogICAgICAgICAgICAgICBuYW1lc190byA9ICJzaWNrX2NhbGxfdHlwZSIsDQogICAgICAgICAgICAgICB2YWx1ZXNfdG8gPSAic2lja19jYWxsX2NvdW50IikgJT4lDQogIA0KICAjIFJlbW92ZSBOQSB2YWx1ZXMNCiAgZHJvcF9uYSgpICU+JSANCiAgDQogICMgRXhwbGljaXRseSBkZWZpbmUgZmFjdG9yIGxldmVscw0KICBtdXRhdGUoc2lja19jYWxsX3R5cGUgPSBmYWN0b3Ioc2lja19jYWxsX3R5cGUsIGxldmVscyA9IGMoDQogICAgInNpY2tfY2FsbF9yZXF1ZXN0cyIsDQogICAgInNpY2tfY2FsbF9lbmNvdW50ZXJzIiwNCiAgICAidG90YWxfc2lja19jYWxscyINCiAgKSkpICU+JSANCiAgDQogICMgQ2FsbGluZyB0aGUgcGxvdCBhbmQgZm9ybWF0dGluZw0KICBnZ3Bsb3QoYWVzKHg9ZGF0ZSwgeSA9IHNpY2tfY2FsbF9jb3VudCwgbGluZXR5cGU9c2lja19jYWxsX3R5cGUpKSsNCiAgZ2VvbV9saW5lKGFlcyhjb2xvciA9IHNpY2tfY2FsbF90eXBlKSxzaXplPS42NSkgKw0KICANCiAgIyBTZXQgdGhlIGxpbmV0eXBlDQogIHNjYWxlX2xpbmV0eXBlX21hbnVhbCgNCiAgICB2YWx1ZXMgPSBwbG90X2xpbmVzLA0KICAgIGxhYmVscyA9IHBsb3RfbGFiZWxzLA0KICAgIG5hbWUgPSAiU2ljayBDYWxsIFR5cGU6IiwNCiAgICBndWlkZSA9IGd1aWRlX2xlZ2VuZChucm93ID0gMykNCiAgICApKw0KICANCiAgIyBTZXQgdGhlIGNvbG9yDQogIHNjYWxlX2NvbG9yX21hbnVhbCh2YWx1ZXMgPSBwbG90X2NvbG9ycywNCiAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICBuYW1lID0gIlNpY2sgQ2FsbCBUeXBlOiIpKw0KDQogIGxhYnModGl0bGUgPSAiU2ljayBDYWxscyIpKw0KICB5bGFiKCJOdW1iZXIgb2YgU2ljayBDYWxscyIpKw0KICB4bGFiKCJEYXRlIikrDQogIHRoZW1lKA0KICAgIHN0cmlwLnRleHQgPSBlbGVtZW50X3RleHQoc2l6ZSA9IDgpLA0KICAgIGxlZ2VuZC5wb3NpdGlvbiA9ICJib3R0b20iDQogICAgKSsNCg0KICAjIFNldCB0aGUgbGVnZW5kIHRvIG11bHRpcGxlIHJvd3MNCiAgZ3VpZGVzKGNvbCA9IGd1aWRlX2xlZ2VuZChucm93ID0zKSkrDQogIA0KICAjIFdyYXANCiAgZmFjZXRfd3JhcCh+IGZhY2lsaXR5LCBuY29sPTMpDQpgYGANCg0KIyMgU3VpY2lkZSBBdHRlbXB0cyBhbmQgV2F0Y2hlcw0KDQpUaGUgZm9sbG93aW5nIHNob3dzIFN1aWNpZGUgQXR0ZW1wdHMgYW5kIFN1aWNpZGUgV2F0Y2hlcyBiYXNlZCBvbiB0aGUgc3RhdHVzIG9mIHRoZSBkYXRhIGFzIG9mIGByIFN5cy5EYXRlKClgLiBUaGUgbnVtYmVycyBhcmUgc3ViamVjdCB0byBjaGFuZ2UuDQoNCmBgYHtyfQ0KZGZfc3VpY2lkZSA8LSBkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTZWxlY3QgYSBzdWJzZXQgb2YgY29sdW1ucyB0byB3b3JrIHdpdGgNCiAgc2VsZWN0KGlkLA0KICAgICAgICAgZmFjaWxpdHksDQogICAgICAgICBkYXRlLA0KICAgICAgICAgc3VpY2lkZV9hdHRlbXB0c19vcl9zZWxmX2hhcm0sDQogICAgICAgICBzdWljaWRlX3dhdGNoZXNfY29uc3RhbnRfd2F0Y2hfbWVudGFsX2hlYWx0aF9vYnNlcnZhdGlvbikgJT4lIA0KICANCiAgIyBOZWVkIHRoZSByb3d3aXNlIGZ1bmN0aW9uIHRvIGNvbXB1dGUgYSByb3ctYXQtYS10aW1lDQogICMgaW4gdGhlIGZvbGxvd2luZyBtdXRhdGUgZnVuY3Rpb24NCiAgcm93d2lzZShpZCkgJT4lIA0KICANCiAgIyBDcmVhdGUgbmV3IHRvdGFsIGNvbHVtbg0KICBtdXRhdGUodG90YWxfc3VpY2lkZSA9IHN1aWNpZGVfYXR0ZW1wdHNfb3Jfc2VsZl9oYXJtICsNCiAgICAgICAgIHN1aWNpZGVfd2F0Y2hlc19jb25zdGFudF93YXRjaF9tZW50YWxfaGVhbHRoX29ic2VydmF0aW9uKSAlPiUgDQogIA0KICAjIFRpZHkNCiAgcGl2b3RfbG9uZ2VyKC4sDQogICAgICAgICAgICAgICBjb2xzPSBzdWljaWRlX2F0dGVtcHRzX29yX3NlbGZfaGFybToNCiAgICAgICAgICAgICAgIHRvdGFsX3N1aWNpZGUsDQogICAgICAgICAgICAgICBuYW1lc190byA9ICJzdWljaWRlX3R5cGUiLA0KICAgICAgICAgICAgICAgdmFsdWVzX3RvID0gInN1aWNpZGVfY291bnQiKSAlPiUgDQogIA0KICAjIFJlbW92ZSBOQQ0KICBkcm9wX25hKCkgJT4lIA0KICANCiAgIyBFeHBsaWNpdGx5IHNldCBmYWN0b3IgbGV2ZWxzDQogIG11dGF0ZShzZWdyZWdhdGlvbl90eXBlID0gZmFjdG9yKHN1aWNpZGVfdHlwZSwgbGV2ZWxzID0gYygNCiAgICAic3VpY2lkZV9hdHRlbXB0c19vcl9zZWxmX2hhcm0iLA0KICAgICJzdWljaWRlX3dhdGNoZXNfY29uc3RhbnRfd2F0Y2hfbWVudGFsX2hlYWx0aF9vYnNlcnZhdGlvbiIsDQogICAgInRvdGFsX3N1aWNpZGUiDQogICkpKQ0KYGBgDQoNCmBgYHtyfQ0KZGZfc3VpY2lkZSAlPiUgDQogIGdyb3VwX2J5KHN1aWNpZGVfdHlwZSkgJT4lIA0KICBzdW1tYXJpc2UoYFRvdGFsIFN1aWNpZGUgQXR0ZW1wdCBvciBXYXRjaCBieSBUeXBlYCA9IHN1bShzdWljaWRlX2NvdW50KSkgJT4lIA0KICB1bmdyb3VwKCkgJT4lIA0KICBrYWJsZShjYXB0aW9uID0gIlRvdGFsIFN1aWNpZGUgQXR0ZW1wdCBvciBXYXRjaCBieSBUeXBlIiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiVHlwZSIsICJUb3RhbCIpKSAlPiUgDQogIGthYmxlX3N0eWxpbmcoYygiaG92ZXIiLCAic3RyaXBlZCIsICJjb25kZW5zZWQiLCAicmVzcG9uc2l2ZSIpKQ0KDQpkZl9zdWljaWRlICU+JSANCiAgZ3JvdXBfYnkoZmFjaWxpdHkpICU+JSANCiAgc3VtbWFyaXNlKHRvdGFsX3N1aWNpZGUgPSBzdW0oc3VpY2lkZV9jb3VudCkpICU+JSANCiAgYXJyYW5nZShkZXNjKHRvdGFsX3N1aWNpZGUpKSAlPiUgDQogIHVuZ3JvdXAoKSAlPiUgDQogIGthYmxlKGNhcHRpb24gPSAiVG90YWwgU3VpY2lkZSBBdHRlbXB0IG9yIFdhdGNoIGJ5IEZhY2lsaXR5IiwNCiAgICAgICAgY29sLm5hbWVzID0gYygiRmFjaWxpdHkiLCAiVG90YWwiKSkgJT4lIA0KICBrYWJsZV9zdHlsaW5nKGMoImhvdmVyIiwgInN0cmlwZWQiLCAiY29uZGVuc2VkIiwgInJlc3BvbnNpdmUiKSkgJT4lIA0KICBzY3JvbGxfYm94KGhlaWdodCA9ICIzMDBweCIpDQpgYGANCg0KYGBge3Igc3VpY2lkZS1mYWNldCwgZmlnLmhlaWdodD00MH0NCg0KIyBVc2UgQ29sb3IgQnJld2VyIHRvIHNldCBjb2xvcnMgYW5kIG1vZGlmeQ0KIyB0aGUgbGFzdCBjb2xvciB0byBiZSBibGFjayBmb3IgdG90YWxzLg0KcGxvdF9jb2xvcnMgPC0gYnJld2VyLnBhbCgyLCAiUGFpcmVkIikNCg0KIyBDcmVhdGUgcGxvdCBsYWJlbHMNCnBsb3RfbGFiZWxzIDwtIGMoDQogICAgICAiU3VpY2lkZSBBdHRlbXB0cyBvciBTZWxmIEhhcm0iLA0KICAgICAgIlN1aWNpZGUgV2F0Y2hlcy9Db25zdGFudCBXYXRjaC9NZW50YWwgSGVhbHRoIE9ic2VydmF0aW9uIikNCg0KZGZfMzI0X2luYyAlPiUNCiAgDQogICMgU3Vic2V0IHRoZSBkZiB0byBvbmx5IHRoZSB1c2VkIGNvbHMNCiAgc2VsZWN0KGlkLCBmYWNpbGl0eSwgZGF0ZSwNCiAgICAgICBzdWljaWRlX2F0dGVtcHRzX29yX3NlbGZfaGFybSwNCiAgICAgICBzdWljaWRlX3dhdGNoZXNfY29uc3RhbnRfd2F0Y2hfbWVudGFsX2hlYWx0aF9vYnNlcnZhdGlvbg0KICAgICAgICkgJT4lIA0KICBkcm9wX25hKCkgJT4lIA0KIA0KICAjIENhbGwgYSByYW5nZSBvZiB0YWJsZSBjb2x1bW5zIGFuZCBwaXZvdCBsb25nDQogIHBpdm90X2xvbmdlciguLA0KICAgICAgICAgICAgICAgY29scz0gIGMoc3VpY2lkZV9hdHRlbXB0c19vcl9zZWxmX2hhcm0sDQogICAgICAgc3VpY2lkZV93YXRjaGVzX2NvbnN0YW50X3dhdGNoX21lbnRhbF9oZWFsdGhfb2JzZXJ2YXRpb24pLA0KICAgICAgICAgICAgICAgbmFtZXNfdG8gPSAic3VpY2lkZV90eXBlIiwNCiAgICAgICAgICAgICAgIHZhbHVlc190byA9ICJzdWljaWRlX2NvdW50IikgJT4lIA0KICANCiAgIyBSZW1vdmUgTkEgdmFsdWVzDQogIGRyb3BfbmEoKSAlPiUgDQogIA0KICAjIEV4cGxpY2l0bHkgZGVmaW5lIGZhY3RvciBsZXZlbHMNCiAgbXV0YXRlKHN1aWNpZGVfdHlwZSA9IGZhY3RvcihzdWljaWRlX3R5cGUsIGxldmVscyA9IGMoDQogICAgInN1aWNpZGVfYXR0ZW1wdHNfb3Jfc2VsZl9oYXJtIiwNCiAgICAic3VpY2lkZV93YXRjaGVzX2NvbnN0YW50X3dhdGNoX21lbnRhbF9oZWFsdGhfb2JzZXJ2YXRpb24iDQogICkpKSAlPiUgDQogIA0KICAjIENhbGxpbmcgdGhlIHBsb3QgYW5kIGZvcm1hdHRpbmcNCiAgZ2dwbG90KGFlcyh4PWRhdGUsIHkgPSBzdWljaWRlX2NvdW50KSkrDQogIGdlb21fbGluZShhZXMoY29sb3I9c3VpY2lkZV90eXBlKSwgc2l6ZSA9IC42NSkgKw0KICANCiAgIyBTZXQgdGhlIGNvbG9yDQogIHNjYWxlX2NvbG9yX21hbnVhbCgNCiAgICB2YWx1ZXMgPSBwbG90X2NvbG9ycywNCiAgICBsYWJlbHMgPSBwbG90X2xhYmVscywNCiAgICBuYW1lID0gIlR5cGU6Ig0KICAgICkrDQogIA0KICBsYWJzKHRpdGxlID0gIlN1aWNpZGUgQXR0ZW1wdHMgYW5kIFdhdGNoZXMiKSsNCiAgeWxhYigiTnVtYmVyIG9mIEF0dGVtcHRzIG9yIFdhdGNoZXMiKSsNCiAgeGxhYigiRGF0ZSIpKw0KICB0aGVtZSgNCiAgICBzdHJpcC50ZXh0ID0gZWxlbWVudF90ZXh0KHNpemUgPSA1KSwNCiAgICBsZWdlbmQucG9zaXRpb24gPSAiYm90dG9tIg0KICAgICkrDQogICMgU2V0IHRoZSBsZWdlbmQgdG8gbXVsdGlwbGUgcm93cw0KICBndWlkZXMoY29sID0gZ3VpZGVfbGVnZW5kKG5yb3cgPTUpKSsNCiAgDQogICMgV3JhcA0KICBmYWNldF93cmFwKH4gZmFjaWxpdHksIG5jb2wgPSAzKQ0KDQoNCmBgYA0KDQojIyBIdW5nZXIgU3RyaWtlcw0KDQpgYGB7ciBodW5nZXItc3RyaWtlLXN1bW1hcnl9DQpkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLCBodW5nZXJfc3RyaWtlcykgJT4lIA0KDQogIGdyb3VwX2J5KGZhY2lsaXR5KSAlPiUgDQogIHN1bW1hcmlzZSh0b3RhbF9odW5nZXJfc3RyaWtlID0gc3VtKGh1bmdlcl9zdHJpa2VzKSkgJT4lIA0KICBhcnJhbmdlKGRlc2ModG90YWxfaHVuZ2VyX3N0cmlrZSkpICU+JSANCiAgdW5ncm91cCgpICU+JSANCiAga2FibGUoY2FwdGlvbiA9ICJUb3RhbCBIdW5nZXIgU3RyaWtlcyBieSBGYWNpbGl0eSIsDQogICAgICAgIGNvbC5uYW1lcyA9IGMoIkZhY2lsaXR5IiwgIlRvdGFsIEh1bmdlciBTdHJpa2VzIikpICU+JSANCiAga2FibGVfc3R5bGluZyhjKCJob3ZlciIsICJzdHJpcGVkIiwgImNvbmRlbnNlZCIsICJyZXNwb25zaXZlIikpICU+JSANCiAgc2Nyb2xsX2JveChoZWlnaHQgPSAiMzAwcHgiKQ0KYGBgDQoNCmBgYHtyIGh1bmdlci1zdHJpa2UtZmFjZXQsIGZpZy5oZWlnaHQ9NDB9DQojIFVzZSBDb2xvciBCcmV3ZXIgdG8gc2V0IGNvbG9ycyBhbmQgbW9kaWZ5DQojIHRoZSBsYXN0IGNvbG9yIHRvIGJlIGJsYWNrIGZvciB0b3RhbHMuDQpwbG90X2NvbG9ycyA8LSBicmV3ZXIucGFsKDIsICJQYWlyZWQiKQ0KDQpkZl8zMjRfaW5jICU+JQ0KICANCiAgIyBTdWJzZXQgdGhlIGRmIHRvIG9ubHkgdGhlIHVzZWQgY29scw0KICBzZWxlY3QoaWQsIGZhY2lsaXR5LCBkYXRlLA0KICAgICAgIGh1bmdlcl9zdHJpa2VzDQogICAgICAgKSAlPiUgDQogIGRyb3BfbmEoKSAlPiUgDQogDQoNCiAgIyBDYWxsaW5nIHRoZSBwbG90IGFuZCBmb3JtYXR0aW5nDQogIGdncGxvdChhZXMoeD1kYXRlLCB5ID0gaHVuZ2VyX3N0cmlrZXMpKSsNCiAgZ2VvbV9saW5lKHNpemUgPSAuNjUpICsNCiAgDQogICMgc2NhbGVfY29sb3JfbWFudWFsKA0KICAjICAgdmFsdWVzID0gcGxvdF9jb2xvcnMsDQogICMgICBsYWJlbHMgPSBjKA0KICAjICAgICAiU3VpY2lkZSBBdHRlbXB0cyBvciBTZWxmIEhhcm0iLA0KICAjICAgICAiU3VpY2lkZSBXYXRjaGVzL0NvbnN0YW50IFdhdGNoL01lbnRhbCBIZWFsdGggT2JzZXJ2YXRpb24iDQogICMgICAgICksDQogICMgICBuYW1lID0gIlR5cGU6Ig0KICAjICAgKSsNCiAgIyANCiAgbGFicyh0aXRsZSA9ICJIdW5nZXIgU3RyaWtlcyIpKw0KICB5bGFiKCJOdW1iZXIgb2YgSHVuZ2VyIFN0cmlrZXMiKSsNCiAgeGxhYigiRGF0ZSIpKw0KICB0aGVtZSgNCiAgICBzdHJpcC50ZXh0ID0gZWxlbWVudF90ZXh0KHNpemUgPSA1KSwNCiAgICBsZWdlbmQucG9zaXRpb24gPSAiYm90dG9tIg0KICAgICkrDQogIA0KICAjIFNldCB0aGUgbGVnZW5kIHRvIG11bHRpcGxlIHJvd3MNCiAgZ3VpZGVzKGNvbCA9IGd1aWRlX2xlZ2VuZChucm93ID01KSkrDQogIA0KICAjIFdyYXANCiAgZmFjZXRfd3JhcCh+IGZhY2lsaXR5LCBuY29sID0gMykNCmBgYA0KDQojIENhdXNlIG9mIERlYXRoDQoNCiMjIFN1aWNpZGUgYXMgQ2F1c2Ugb2YgRGVhdGgNCg0KQmFyIHBsb3Qgb2YgSUNFIGFuZCBub24tSUNFIGRlYXRocyBieSBzdWljaWRlIHBsb3R0ZWQgYnkgZmFjaWxpdHkgYXMgb2YgYHIgU3lzLkRhdGUoKWAuDQoNCmBgYHtyIHN1aWNpZGUtY29kLXBsb3R9DQpkZl8zMjQgJT4lIA0KICBzZWxlY3QoaWQsDQogICAgICAgICBmYWNpbGl0eSwNCiAgICAgICAgIHN0YXRlLA0KICAgICAgICAgZGF0ZSwNCiAgICAgICAgIGZhY19vcGVyYXRvciwNCiAgICAgICAgIGNvZF9zdWljaWRlX2ljZSwNCiAgICAgICAgIGNvZF9zdWljaWRlX25vdF9pY2UpICU+JSANCiAgZHJvcF9uYSgpICU+JSANCiAgZmlsdGVyKGNvZF9zdWljaWRlX2ljZT4wfGNvZF9zdWljaWRlX25vdF9pY2UgPjApICU+JSANCiAgbXV0YXRlKGNvZF9zdWljaWRlX3RvdGFsID0gY29kX3N1aWNpZGVfaWNlICsgY29kX3N1aWNpZGVfbm90X2ljZSkgJT4lIA0KICANCiAgIyBIZXJlIG9uZSBjb3VsZCBjYWxsIGRhdGF0YWJsZSgpIG9yIGthYmxlKCkNCiAgIyB0byBnZXQgYSBsaXN0IG9mIHRoZSBmYWNpbGl0aWVzIGFuZCBjb3VudA0KICANCiAgIyBJbml0aWF0ZSB0aGUgcGxvdA0KICBnZ3Bsb3QoYWVzKHg9Y29kX3N1aWNpZGVfdG90YWwsIHk9ZmFjaWxpdHkpKSsNCiAgZ2VvbV9ib3hwbG90KCkrDQogIHNjYWxlX3hfY29udGludW91cyhicmVha3MgPSBjKDEsMikpKw0KICBsYWJzKHRpdGxlID0gIkNhdXNlIG9mIERlYXRoIFN1aWNpZGUiLA0KICAgICAgIHN1YnRpdGxlID0gIkluY2x1ZGVzIElDRSBhbmQgbm9uLUlDRSBEZWF0aHMgYnkgU3VpY2lkZSIpKw0KICB4bGFiKCJDT0QgU3VpY2lkZSBUb3RhbCIpKw0KICB5bGFiKCJGYWNpbGl0eSIpDQpgYGANCg0KIyBPYnNlcnZhdGlvbnMNCg0KT2JzZXJ2YXRpb25zIG1hZGUgb24gdGhlIGRhdGEgYXMgdGhleSBhY2N1bXVsYXRlIGFyZSBsb2dnZWQgYmVsb3cuDQoNCiMjIDI4IE1heSAyMDIxDQoNCjEuICBBZGVsYW50byBJQ0UgUHJvY2Vzc2luZyBDZW50ZXIgLSBFYXN0IGFuZCBXZXN0IGhhdmUgaWRlbnRpY2FsIGRhdGEgZm9yIDIwMjAsIGJ1dCB0aGUgbnVtYmVycyBhcmUgZGlmZmVyZW50IGZvciAyMDE5IHdpdGggRWFzdCBiZWluZyBtdWNoIGxvd2VyIHRoYW4gd2VzdC4gQ3JhaWcgY2hlY2tlZCB0aGUgaW5zcGVjdGlvbnMgYW5kIHRoZSBudW1iZXJzIGFyZSBkaWZmZXJlbnQgZm9yIEVhc3QgYW5kIFdlc3QgaW4gMjAxOSB3aGlsZSB0aGV5IGFyZSBpbiBmYWN0IHRoZSBzYW1lIGZvciAyMDIwLiBOb3RlIHRoYXQgMjAyMCBpcyBhIHJlbW90ZSBpbnNwZWN0aW9uLiBIb3dldmVyLCBpdCBpcyBzaWduaWZpY2FudCB0aGF0IHRoZSB0d28gYXJlIGNvbXBhcmFibGUgaW4gb25lIGluc3RhbmNlIGFuZCBub3QgY29tcGFyYWJsZSBpbiBhbm90aGVyIGNhc2UuDQoNCjIuICBBbG1hbmNlIENvdW50eSBKYWlsIGFuZCBDaGFzZSBDb3VudHkgRGV0ZW50aW9uIENlbnRlciBib3RoIHNlZW0gdG8gcmVnaXN0ZXIgYmxhbmsgZm9yIHNvbGl0YXJ5LiBDcmFpZyBzdXNwZWN0cyB0aGlzIGlzIGJlY2F1c2UgdGhlcmUgd2VyZSBub3QgY2FzZXMgb2Ygc29saXRhcnkgcmVwb3J0ZWQuDQoNCiMjIDI3IE1heSAyMDIxDQoNCk9uZSBvZiB0aGUgaW1wb3J0YW50IGVhcmx5IG9ic2VydmF0aW9ucyBoYXMgdG8gZG8gd2l0aCB0aGUgbmFtaW5nIG9mIGZhY2lsaXRpZXMuIElDRSBpcyBvZnRlbiBpbmNvbnNpc3RlbnQgd2l0aCBmYWNpbGl0eSBuYW1pbmcgYW5kIHRoZSBuYW1lcyBkbyBvZnRlbiBjaGFuZ2Ugb3ZlciB0aW1lLiBCb3RoIHRoZSBjaGFuZ2luZyBvZiBuYW1lcyBhbmQgaW5jb25zaXN0ZW50IG5hbWluZyBjb252ZW50aW9ucyBjYW4gY2F1c2UgY29uZnVzaW9uIGFzIHdlbGwgYXMgZXJyb3Igd2hlbiB0YWJ1bGF0aW5nIHJlc3VsdHMuDQoNCjEuICBUaGUgZ3JhcGhzIGZvciAiKipBZGVsYW50byBJQ0UgUHJvY2Vzc2luZyBDZW50ZXIgLSBFYXN0KioiIGFuZCAiKipBZGVsYW50byBJQ0UgUHJvY2Vzc2luZyBDZW50ZXIgLSBXZXN0KioiIGFyZSBpZGVudGljYWwuIFRoaXMgaXMgY29uc2lzdGVudCB3aXRoIGluZm9ybWF0aW9uIENyYWlnIHJlY2FsbHMgc2VlaW5nIGluIG9uZSBvZiB0aGUgaW5zcGVjdGlvbnMsIHRoYXQgdGhlIG51bWJlcnMgZm9yIHRoZSBmYWNpbGl0aWVzIGFyZSAibWVyZ2VkIiBvciBjb21iaW5lZC4NCg0KICAgIC0gICBGb3IgZmFjZXQgZ3JhcGhpbmcgY29uc2lkZXIgZmlsdGVyaW5nLiBGb3IgYW5hbHlzaXMgcHVycG9zZXMgbWF5IG5lZWQgdG8gdHJlYXQgdGhlIHR3byBmYWNpbGl0aWVzIGFzICJtZXJnZWQiDQoNCjIuICAiKipBZGVsYW50byBJQ0UgUHJvY2Vzc2luZyBDZW50ZXIgV2VzdCoqIiBzaG91bGQgYmUgY29tYmluZWQgd2l0aCAiKipBZGVsYW50byBJQ0UgUHJvY2Vzc2luZyBDZW50ZXIgLSBXZXN0KioiLiBJdCBhcHBlYXJzIHRoYXQgSUNFIGlzIG5vdCBjb25zaXN0ZW50bHkgbmFtaW5nIHRoZSBmYWNpbGl0aWVzLCBpbiBvbmUgY2FzZSB0aGUgbmFtZSBsYWNrcyBhIGRhc2ggY2hhcmFjdGVyIHdoaWNoIGNhdXNlcyB0aGVtIHRvIGJlIGdyYXBoZWQgc2VwYXJhdGVseS4NCg0KICAgIC0gICBUaGUgZGFzaCB3YXMgYWRkZWQgdG8gQWRlbGFudG8gV2VzdC4NCg0KMy4gIEl0IHdvdWxkIGJlIGdvb2QgdG8gY2hlY2sgaWYgdGhlcmUgcmVhbGx5IHR3byBmYWNpbGl0aWVzIGluIEFsbWFuY2UgQ291bnR5LiBUaGVyZSBhcmUgZW50cmllcyBsaXN0ZWQgZm9yICIqKkFsbWFuY2UgQ291bnR5IERldGVudGlvbiBDZW50ZXIqKiIgYW5kICIqKkFsbWFuY2UgQ291bnR5IEphaWwqKiIuDQoNCiAgICAtICAgTmVlZCB0byB2ZXJpZnkgdGhhdCB0aGVzZSBhcmUgaW4gZmFjdCBkaXN0aW5jdCBmYWNpbGl0aWVzLg0KDQo0LiAgIioqQXVyb3JhIElDRSBQcm9jZXNzaW5nIENlbnRlciBJSSAtIEFubmV4KioiIGFuZCAiKipBdXJvcmEgSUkgQW5uZXgqKiIgc2hvdWxkIHByb2JhYmx5IGJlIGNvbWJpbmVkLiBOZWVkIHRvIGNoZWNrIHRoZSBpbnNwZWN0aW9ucyB0byB2ZXJpZnkuDQoNCiAgICAtICAgIioqQXVyb3JhIElJIEFubmV4IChDTykgLSBKYW4uIDI5LCAyMDIxIioqIHdhcyBjaGFuZ2VkIHRvICIqKkF1cm9yYSBJQ0UgUHJvY2Vzc2luZyBDZW50ZXIgSUkgLSBBbm5leCAoQ08pIC0gSmFuLiAyOSwgMjAyMSoqIg0KDQojIFJlZmVyZW5jZXMNCg0KOjo6IHsjcmVmc30NCjo6Og0KDQpgYGB7ciBwYWNrYWdlLXJlZmVyZW5jZXMsIGVjaG89RkFMU0V9DQprbml0cjo6d3JpdGVfYmliKGZpbGUgPSAncGFja2FnZXMuYmliJykNCmBgYA0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("03-G-324A-2019-Exploratory-Plots.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
