---
title: "Inspection Data Scraping Facility Names and Inspection Dates"
author: "Nathan Craig"
date: "4/12/2021"
output: 
  html_document:
    keep_md: true
    toc: true
---

```{r}
library(rvest)
library(tidyverse)
```

```{r}
page <- read_html("https://www.ice.gov/detain/facility-inspections")
```

```{r}
facility_list <- page %>% 
  html_nodes("li") %>% 
  html_text()
```

Export the variable to a text file and remove the unwanted lines manually.

```{r}
write.table(facility_list, file = "facility_list.txt", sep = "\t")
```

The line numbers and cell content are separated with a tab. The text: Cover Letter" and "Detention Review Summary Form" can be elimiated with find and replace. The extra characters were eliminated using find and replace with a combination of `\r`, `\n`, `\t`. The data took a considerable amount of massaging. The resulting file was saved as facility_list_clean.txt. This facility list was copied to the `inspection_data.xlsx` file