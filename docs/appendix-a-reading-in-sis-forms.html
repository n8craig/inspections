<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Appendix A: Reading in SIS Forms | ICE Inspection Review</title>
  <meta name="description" content="This is a document in progress that involves organizing inspection materials released on the ICE website" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Appendix A: Reading in SIS Forms | ICE Inspection Review" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a document in progress that involves organizing inspection materials released on the ICE website" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Appendix A: Reading in SIS Forms | ICE Inspection Review" />
  
  <meta name="twitter:description" content="This is a document in progress that involves organizing inspection materials released on the ICE website" />
  

<meta name="author" content="Nathan Craig" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="references.html"/>
<link rel="next" href="appendix-b-data-cleaning.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ICE Inspection Review</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-we-found"><i class="fa fa-check"></i><b>1.1</b> What We Found</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#assaults"><i class="fa fa-check"></i><b>1.1.1</b> Assaults</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#disciplinary"><i class="fa fa-check"></i><b>1.1.2</b> Disciplinary</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#solitary"><i class="fa fa-check"></i><b>1.1.3</b> Solitary</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#use-of-force"><i class="fa fa-check"></i><b>1.1.4</b> Use of Force</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#sexual-abuse-and-assault"><i class="fa fa-check"></i><b>1.1.5</b> Sexual Abuse and Assault</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#medical-observation"><i class="fa fa-check"></i><b>1.1.6</b> Medical Observation</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#note-regarding-inspections"><i class="fa fa-check"></i><b>1.2</b> Note Regarding Inspections</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-the-work-was-done"><i class="fa fa-check"></i><b>1.3</b> How the work was done</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#inspections-by-facility"><i class="fa fa-check"></i><b>1.4</b> Inspections by Facility</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="facility-inspection-ratings.html"><a href="facility-inspection-ratings.html"><i class="fa fa-check"></i><b>2</b> Facility Inspection Ratings</a></li>
<li class="chapter" data-level="3" data-path="assaults-1.html"><a href="assaults-1.html"><i class="fa fa-check"></i><b>3</b> Assaults</a>
<ul>
<li class="chapter" data-level="3.1" data-path="assaults-1.html"><a href="assaults-1.html#summary-tables"><i class="fa fa-check"></i><b>3.1</b> Summary Tables</a></li>
<li class="chapter" data-level="3.2" data-path="assaults-1.html"><a href="assaults-1.html#facet-plot-of-assaults-by-facility"><i class="fa fa-check"></i><b>3.2</b> Facet Plot of Assaults by Facility</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="disciplinary-1.html"><a href="disciplinary-1.html"><i class="fa fa-check"></i><b>4</b> Disciplinary</a>
<ul>
<li class="chapter" data-level="4.1" data-path="disciplinary-1.html"><a href="disciplinary-1.html#summary-tables-1"><i class="fa fa-check"></i><b>4.1</b> Summary Tables</a></li>
<li class="chapter" data-level="4.2" data-path="disciplinary-1.html"><a href="disciplinary-1.html#facet-plot-of-disciplinary-by-facility"><i class="fa fa-check"></i><b>4.2</b> Facet Plot of Disciplinary by Facility</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="solitary-1.html"><a href="solitary-1.html"><i class="fa fa-check"></i><b>5</b> Solitary</a>
<ul>
<li class="chapter" data-level="5.1" data-path="solitary-1.html"><a href="solitary-1.html#summary-tables-2"><i class="fa fa-check"></i><b>5.1</b> Summary Tables</a></li>
<li class="chapter" data-level="5.2" data-path="solitary-1.html"><a href="solitary-1.html#facet-plots-of-solitary-by-facility"><i class="fa fa-check"></i><b>5.2</b> Facet Plots of Solitary by Facility</a></li>
<li class="chapter" data-level="5.3" data-path="solitary-1.html"><a href="solitary-1.html#solitary-over-60-days"><i class="fa fa-check"></i><b>5.3</b> Solitary Over 60 Days</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="use-of-force-1.html"><a href="use-of-force-1.html"><i class="fa fa-check"></i><b>6</b> Use of Force</a>
<ul>
<li class="chapter" data-level="6.1" data-path="use-of-force-1.html"><a href="use-of-force-1.html#summary-tables-3"><i class="fa fa-check"></i><b>6.1</b> Summary Tables</a></li>
<li class="chapter" data-level="6.2" data-path="use-of-force-1.html"><a href="use-of-force-1.html#under-reporting-use-of-force-incidents"><i class="fa fa-check"></i><b>6.2</b> Under Reporting Use of Force Incidents</a></li>
<li class="chapter" data-level="6.3" data-path="use-of-force-1.html"><a href="use-of-force-1.html#facet-plot-of-use-of-force-by-facility"><i class="fa fa-check"></i><b>6.3</b> Facet Plot of Use of Force by Facility</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html"><i class="fa fa-check"></i><b>7</b> Sexual Abuse and Assault</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html#allegations"><i class="fa fa-check"></i><b>7.1</b> Allegations</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html#summary-tables-4"><i class="fa fa-check"></i><b>7.1.1</b> Summary Tables</a></li>
<li class="chapter" data-level="7.1.2" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html#facet-plot-of-sexual-abuse-and-assault-allegations-by-facility"><i class="fa fa-check"></i><b>7.1.2</b> Facet Plot of Sexual Abuse and Assault Allegations by Facility</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html#substantiated-allegations"><i class="fa fa-check"></i><b>7.2</b> Substantiated Allegations</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html#summary-tables-5"><i class="fa fa-check"></i><b>7.2.1</b> Summary Tables</a></li>
<li class="chapter" data-level="7.2.2" data-path="sexual-abuse-and-assault-1.html"><a href="sexual-abuse-and-assault-1.html#facet-plot-of-substantiated-sexual-abuse-and-assault-allegations"><i class="fa fa-check"></i><b>7.2.2</b> Facet Plot of Substantiated Sexual Abuse and Assault Allegations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="medical.html"><a href="medical.html"><i class="fa fa-check"></i><b>8</b> Medical</a>
<ul>
<li class="chapter" data-level="8.1" data-path="medical.html"><a href="medical.html#medical-observation-1"><i class="fa fa-check"></i><b>8.1</b> Medical Observation</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="medical.html"><a href="medical.html#summary-tables-6"><i class="fa fa-check"></i><b>8.1.1</b> Summary Tables</a></li>
<li class="chapter" data-level="8.1.2" data-path="medical.html"><a href="medical.html#facet-plot-of-medical-mental-observation-by-facility"><i class="fa fa-check"></i><b>8.1.2</b> Facet Plot of Medical Mental Observation by Facility</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="medical.html"><a href="medical.html#infections-disease"><i class="fa fa-check"></i><b>8.2</b> Infections Disease</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="medical.html"><a href="medical.html#summary-table"><i class="fa fa-check"></i><b>8.2.1</b> Summary Table</a></li>
<li class="chapter" data-level="8.2.2" data-path="medical.html"><a href="medical.html#facet-plot-of-infectious-disease-by-facility"><i class="fa fa-check"></i><b>8.2.2</b> Facet Plot of Infectious Disease by Facility</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="medical.html"><a href="medical.html#medical-and-mental-health-referrals"><i class="fa fa-check"></i><b>8.3</b> Medical and Mental Health Referrals</a></li>
<li class="chapter" data-level="8.4" data-path="medical.html"><a href="medical.html#sick-call-requests-and-encounters"><i class="fa fa-check"></i><b>8.4</b> Sick Call Requests and Encounters</a></li>
<li class="chapter" data-level="8.5" data-path="medical.html"><a href="medical.html#suicide-attempts-and-watches"><i class="fa fa-check"></i><b>8.5</b> Suicide Attempts and Watches</a></li>
<li class="chapter" data-level="8.6" data-path="medical.html"><a href="medical.html#hunger-strikes"><i class="fa fa-check"></i><b>8.6</b> Hunger Strikes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="cause-of-death.html"><a href="cause-of-death.html"><i class="fa fa-check"></i><b>9</b> Cause of Death</a>
<ul>
<li class="chapter" data-level="9.1" data-path="cause-of-death.html"><a href="cause-of-death.html#suicide-as-cause-of-death"><i class="fa fa-check"></i><b>9.1</b> Suicide as Cause of Death</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="appendix-a-reading-in-sis-forms.html"><a href="appendix-a-reading-in-sis-forms.html"><i class="fa fa-check"></i>Appendix A: Reading in SIS Forms</a>
<ul>
<li class="chapter" data-level="2" data-path="appendix-a-reading-in-sis-forms.html"><a href="appendix-a-reading-in-sis-forms.html#summary-tables-7"><i class="fa fa-check"></i><b>2</b> Summary Tables</a></li>
<li class="chapter" data-level="3" data-path="appendix-a-reading-in-sis-forms.html"><a href="appendix-a-reading-in-sis-forms.html#facet-plots"><i class="fa fa-check"></i><b>3</b> Facet Plots</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix-b-data-cleaning.html"><a href="appendix-b-data-cleaning.html"><i class="fa fa-check"></i>Appendix B: Data Cleaning</a>
<ul>
<li class="chapter" data-level="4" data-path="appendix-b-data-cleaning.html"><a href="appendix-b-data-cleaning.html#cleaning-script"><i class="fa fa-check"></i><b>4</b> Cleaning Script</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ICE Inspection Review</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix-a-reading-in-sis-forms" class="section level1 unnumbered">
<h1>Appendix A: Reading in SIS Forms</h1>
<p>The code for this report is specific to data logged in the G-324A-19 form and the incident summaries portion of that form. The incident summary portion of this form is probably the most complex data structure in the project and also contains the largest volume of quantitative information. Therefore, it seemed like a good place to start with an initial proof of concept.</p>
<p>At the outset, there were issues reading in the Google Sheet. Several of the numeric columns read into R as lists which was undesirable. In the Google Sheet, Craig set the columns to <code>plain text</code> rather than <code>auto</code> and the data are read into R as character columns. This seemed to resolve the issue for a time, and it was possible to use the <code>type_convert()</code> function from the <code>readr</code> library <span class="citation">(<a href="#ref-R-readr" role="doc-biblioref">Wickham and Hester 2020</a>)</span> to convert these columns to numbers. The <code>col_types</code> argument of the <code>read_sheet</code> function of the <code>googlesheets4</code> library <span class="citation">(<a href="#ref-R-googlesheets4" role="doc-biblioref">Bryan 2021</a>)</span> was used to explicitly set the column types to character. After applying the <code>clean_facility_names</code> custom function, additional transformations like converting facility to a factor are applied.</p>
<p>There were some issues using <code>lubridate</code> <span class="citation">(<a href="#ref-R-lubridate" role="doc-biblioref">Spinu, Grolemund, and Wickham 2021</a>)</span> to wrangle the month and year fields to a proper date. Craig was not able to discern the cause of the issue. However, changing the month format on the incident sheet from abbreviated to fully written out months solved the issue. Those changes were made in the master Google Sheet and the data were called using the <code>googlesheets4</code> library.</p>
<p>At present 374 SIS and inspection cover letter combinations out of approximately 300 inspections are complete. The completed inspections range in time from 2019-09-06 to 2021-05-27. Students are now working on older SIS forms which are structured differently. The preliminary EDA in this document is restricted to the more current SIS forms which were first used in May 2019.</p>
<div id="summary-tables-7" class="section level2" number="9.2">
<h2><span class="header-section-number">2</span> Summary Tables</h2>
<p>Summary tables help to provide an overview of how many instances occur within particular category of data or how frequent a particular issue is recorded at a given facility. Summary tables are generated using a combination of <code>group_by</code> with <code>summarize</code> with the results piped to <code>kable</code> and <code>kableExtra</code>. This produces results similar to a “pivot table” from Excel.</p>
</div>
<div id="facet-plots" class="section level2" number="9.3">
<h2><span class="header-section-number">3</span> Facet Plots</h2>
<p>Facet plots partition each portion of a plot into a matrix of panels. These plots are produced for several categories of data where each panel represents a facility for a given variable reported in the SIS form. Within each category, columns are pivoted longer and plotted by date. Graphing is done using the <code>ggplot2</code> library <span class="citation">(<a href="#ref-R-ggplot2" role="doc-biblioref">Wickham, Chang, et al. 2021</a>)</span> with the <code>facet_wrap</code> function to provide a means to compare multiple facilities simultaneously. Such a plot can help identify trends and guide more specific questions.</p>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-googlesheets4" class="csl-entry">
Bryan, Jennifer. 2021. <em>Googlesheets4: Access Google Sheets Using the Sheets API V4</em>. <a href="https://github.com/tidyverse/googlesheets4">https://github.com/tidyverse/googlesheets4</a>.
</div>
<div id="ref-R-lubridate" class="csl-entry">
Spinu, Vitalie, Garrett Grolemund, and Hadley Wickham. 2021. <em>Lubridate: Make Dealing with Dates a Little Easier</em>. <a href="https://CRAN.R-project.org/package=lubridate">https://CRAN.R-project.org/package=lubridate</a>.
</div>
<div id="ref-R-ggplot2" class="csl-entry">
Wickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, and Dewey Dunnington. 2021. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2">https://CRAN.R-project.org/package=ggplot2</a>.
</div>
<div id="ref-R-readr" class="csl-entry">
Wickham, Hadley, and Jim Hester. 2020. <em>Readr: Read Rectangular Text Data</em>. <a href="https://CRAN.R-project.org/package=readr">https://CRAN.R-project.org/package=readr</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="references.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix-b-data-cleaning.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/n8craig/inspections/edit/master/Ch-Appendix.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/n8craig/inspections/blob/master/Ch-Appendix.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"code_download": true
});
});
</script>

</body>

</html>
